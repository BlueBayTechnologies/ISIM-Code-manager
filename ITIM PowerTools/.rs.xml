<?xml version="1.0" encoding="UTF-8"?><MetamergeConfig IDIversion="Created by TDI7.1.1 - 2012-04-23" created="Fri May 06 15:25:20 UTC 2016" createdBy="root" modified="Fri May 27 18:11:31 UTC 2016" modifiedBy="developer" version="7.1.1">
    <Folder name="AssemblyLines">
        <AssemblyLine name="DeleteOperationalWorkflows">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="iferXMLpresent" state="Enabled"/>
                    <Component name="erXMLs" state="Enabled"/>
                    <Component name="prepOperation" state="Enabled"/>
                    <Component name="deleteWorkflow" state="Simulated"/>
                    <Component name="deleteReference" state="Simulated"/>
                    <Component name="ITIM_serviceProfile" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_serviceProfile">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=serviceProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=*)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>serviceprofiledn</Name>
                            <Type>simple</Type>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Branch name="iferXMLpresent">
                    <Loop name="erXMLs">
                        <LoopType>2</LoopType>
                        <WorkAttributeName>erXML</WorkAttributeName>
                        <LoopAttributeName>objoperation</LoopAttributeName>
                        <Branch name="erXMLs">
                            <Connector name="prepOperation">
                                <ConnectorMode>Script</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration/>
                                <ConnectorScript><![CDATA[var name=null;
var dn=null;
var operation=work.getString("objoperation");
var bitsnpieces=operation.split("\"");
for(var i=0; i<bitsnpieces.length;i++){
  if (name == null && bitsnpieces[i].indexOf(" name=")!=-1 && i<bitsnpieces.length-1)
    name=bitsnpieces[i+1];
  if (dn == null && bitsnpieces[i].indexOf(" definitionDN=")!=-1 && i<bitsnpieces.length-1)
    dn=bitsnpieces[i+1];
  if (name != null && dn!=null)
    break;
}
if (name == null || dn==null){
  task.logmsg("ERROR",work.getString("erobjectprofilename")+" is missing name or DN");
  system.skipEntry();
}
//ITIMOperation.connector.setParam("ldapSearchBase",dn);
var oid=dn.substring(dn.indexOf("=")+1,dn.indexOf(","));
work.setAttribute("operationID",oid);
//
//work.getString("erCategory")

//var filename=getExternalProperty("WorkflowExportFolder")+"\\"+name+"_"+work.getString("erobjectprofilename")+"_"+work.getString("erCategory")+"_"+oid+".xml";
//if ((new java.io.File(filename)).exists())
//  system.shutdownAL();
//SaveData.connector.setParam("filePath",filename);
// delete this value from the list
erxmlattr=work.getAttribute("erXML");
erxmlattr.removeValue(operation);
work.setAttribute(erxmlattr); 
task.logmsg("INFO","Deleting "+name+" "+work.getString("erobjectprofilename")+" workflow for "+work.getString("erCategory"));]]></ConnectorScript>
                                <Parser>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input"/>
                                <AttributeMap name="Output"/>
                                <DeltaSettings>
                                    <Driver>BTree</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria/>
                                <Hooks/>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance/>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Connector name="deleteWorkflow">
                                <InheritFrom>/Connectors/ITIM_Iterator</InheritFrom>
                                <ConnectorMode>Delete</ConnectorMode>
                                <ConnectorState>Disabled</ConnectorState>
                                <Configuration>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <parameter name="ldapSearchBase">@SUBSTITUTEou=operations,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                                    <parameter name="ldapSearchFilter">(objectclass=*)</parameter>
                                </Configuration>
                                <Parser>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input">
                                    <InheritFrom>[no inheritance]</InheritFrom>
                                    <AttributeMapItem>
                                        <Name>erXML</Name>
                                        <Type>simple</Type>
                                        <Simple>erXML</Simple>
                                    </AttributeMapItem>
                                </AttributeMap>
                                <AttributeMap name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </AttributeMap>
                                <DeltaSettings>
                                    <WhenToCommit>After every database operation</WhenToCommit>
                                    <Driver>CloudScape</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <SchemaItem>
                                        <Name>$dn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>cn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>departmentnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>description</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeestatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erCustomConstraint</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erDefaultValue</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erIsReadOnly</Name>
                                        <NativeSyntax>MAY/Boolean</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erOid</Name>
                                        <NativeSyntax>MUST/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erType</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>eraliases</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ercreatedate</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erglobalid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erlastmodifiedtime</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erparent</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erpersonstatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ferccode</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>givenname</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>l</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mail</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mailstop</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>manager</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>middlename</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectClass</Name>
                                        <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>positionnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstoemployeeid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstopositionnbr</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>sn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>telephonenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>title</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>uid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <LinkCriteriaItem>
                                        <Key>118ed3f0660</Key>
                                        <Attribute>erglobalid</Attribute>
                                        <Operator>equals</Operator>
                                        <Value>$operationID</Value>
                                    </LinkCriteriaItem>
                                </LinkCriteria>
                                <Hooks>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <Hook name="override_delete">
                                        <Name>override_delete</Name>
                                        <Enabled>true</Enabled>
                                    </Hook>
                                </Hooks>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance>
                                    <Enabled>false</Enabled>
                                    <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                </PoolInstance>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Connector name="deleteReference">
                                <InheritFrom>/Connectors/ITIM_Update</InheritFrom>
                                <ConnectorMode>Update</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <parameter name="ldapSearchBase">@SUBSTITUTEou=serviceProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                                    <parameter name="ldapSearchFilter">@SUBSTITUTE(objectclass=*)</parameter>
                                </Configuration>
                                <Parser>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </AttributeMap>
                                <AttributeMap name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <AttributeMapItem>
                                        <Name>erXML</Name>
                                        <Type>simple</Type>
                                        <Simple>erXML</Simple>
                                    </AttributeMapItem>
                                </AttributeMap>
                                <DeltaSettings>
                                    <WhenToCommit>After every database operation</WhenToCommit>
                                    <Driver>CloudScape</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <SchemaItem>
                                        <Name>$dn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>cn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>departmentnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>description</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeestatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erCustomConstraint</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erDefaultValue</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erIsReadOnly</Name>
                                        <NativeSyntax>MAY/Boolean</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erOid</Name>
                                        <NativeSyntax>MUST/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erType</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>eraliases</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ercreatedate</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erglobalid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erlastmodifiedtime</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erparent</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erpersonstatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ferccode</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>givenname</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>l</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mail</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mailstop</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>manager</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>middlename</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectClass</Name>
                                        <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>positionnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstoemployeeid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstopositionnbr</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>sn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>telephonenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>title</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>uid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <SchemaItem>
                                        <Name>$dn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>description</Name>
                                        <NativeSyntax>MAY/Directory String/Attribute common to CIM and LDAP schema to provide lengthy description of a directory object entry.</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erAcl</Name>
                                        <NativeSyntax>MAY/Binary</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erAttrMap</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erAuthorizationOwner</Name>
                                        <NativeSyntax>MAY/DN</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erCategory</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erCustomClass</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erGlobalId</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erIsDeleted</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erLastModifiedTime</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erLifecycleEnable</Name>
                                        <NativeSyntax>MAY/Boolean/Flag for lifecycle operation on an entity</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erLifecycleRule</Name>
                                        <NativeSyntax>MAY/Binary/Lifecycle rule data</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erObjectProfileName</Name>
                                        <NativeSyntax>MUST/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erParent</Name>
                                        <NativeSyntax>MAY/DN</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erProfileName</Name>
                                        <NativeSyntax>MAY/Directory String/Profile name of an object</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erRdnAttr</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erSearchAttr</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erXML</Name>
                                        <NativeSyntax>MAY/Binary</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>eraccountclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>eraccountname</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erattrmap</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ercategory</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ercustomclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erobjectprofilename</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erproperties</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erprotocolmappings</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>errdnattr</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ersearchattr</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erserviceproviderfactory</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectClass</Name>
                                        <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ou</Name>
                                        <Syntax>java.lang.String</Syntax>
                                    </SchemaItem>
                                </Schema>
                                <LinkCriteria>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <LinkCriteriaItem>
                                        <Key>1275a32270f</Key>
                                        <Attribute>$dn</Attribute>
                                        <Operator>equals</Operator>
                                        <Value>$serviceprofiledn</Value>
                                    </LinkCriteriaItem>
                                </LinkCriteria>
                                <Hooks>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <Hook name="modify_apply">
                                        <Name>modify_apply</Name>
                                        <Script><![CDATA[task.dumpEntry(conn);
task.dumpEntry(current);
system.skipEntry();]]></Script>
                                        <Enabled>false</Enabled>
                                    </Hook>
                                </Hooks>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance>
                                    <Enabled>false</Enabled>
                                    <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                </PoolInstance>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Conditions/>
                            <MatchAny>false</MatchAny>
                            <Enabled>true</Enabled>
                            <Type>0</Type>
                        </Branch>
                    </Loop>
                    <Conditions>
                        <BranchCondition>
                            <LeftHand>erXML</LeftHand>
                            <Operator>exists</Operator>
                            <CaseSensitive>true</CaseSensitive>
                            <MatchAny>false</MatchAny>
                        </BranchCondition>
                    </Conditions>
                    <MatchAny>false</MatchAny>
                    <Enabled>true</Enabled>
                    <Type>0</Type>
                </Branch>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportACLs">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks>
                <Hook name="prolog">
                    <Name>prolog</Name>
                    <Script><![CDATA[// sysrole hash
var hsh = new java.util.HashMap();]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="erACLs" state="Enabled"/>
                    <Component name="cleanRoleList" state="Enabled"/>
                    <Component name="mapRoles" state="Enabled"/>
                    <Component name="ITIM_Lookup" state="Enabled"/>
                    <Component name="listRoles" state="Enabled"/>
                    <Component name="SaveSysRoleAsCSV" state="Simulated"/>
                    <Component name="SetFileName" state="Enabled"/>
                    <Component name="SaveACLAsBlob" state="Simulated"/>
                    <Component name="ITIM_Iterator" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_Iterator">
                    <InheritFrom>/Connectors/ITIM_Iterator</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchFilter">(eracl=*)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>containerdn</Name>
                            <Type>simple</Type>
                            <Simple>$dn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>containero</Name>
                            <Type>simple</Type>
                            <Simple>o</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>containerou</Name>
                            <Type>simple</Type>
                            <Simple>ou</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>eracl</Name>
                            <Type>simple</Type>
                            <Simple>eracl</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eracl</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erorgstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>o</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Loop name="erACLs">
                    <LoopType>2</LoopType>
                    <WorkAttributeName>eracl</WorkAttributeName>
                    <LoopAttributeName>acl</LoopAttributeName>
                    <Branch name="erACLs">
                        <Connector name="cleanRoleList">
                            <ConnectorMode>Script</ConnectorMode>
                            <ConnectorState>Enabled</ConnectorState>
                            <Configuration/>
                            <ConnectorScript><![CDATA[// cut the pieces off xml and stick them into a multivalued attribute
var roles="";
work.newAttribute("SysRoleDNs").clear();
var bitsnpieces=work.getString("acl").split("<systemRole>");
for(var i=0; i<bitsnpieces.length;i++){
  cutout=bitsnpieces[i].indexOf("</systemRole");
  if (cutout !=-1){
	roledn=bitsnpieces[i].substring(0,cutout);
	// check with the hash first to see if we had encountered the role earlier
	if (hsh.get(roledn) == null){
		hsh.put(roledn, "known");
		work.getAttribute("SysRoleDNs").addValue(roledn);
	}
  }
}
]]></ConnectorScript>
                            <Parser>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                            </Parser>
                            <AttributeMap name="Input"/>
                            <AttributeMap name="Output"/>
                            <DeltaSettings>
                                <Driver>BTree</Driver>
                            </DeltaSettings>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <LinkCriteria/>
                            <Hooks/>
                            <CheckpointConfig/>
                            <SandboxConfig/>
                            <Reconnect>
                                <InheritFrom>[parent]</InheritFrom>
                                <ReconnectRules/>
                            </Reconnect>
                            <Operations/>
                            <PoolDefinition>
                                <InheritFrom>[parent]</InheritFrom>
                            </PoolDefinition>
                            <PoolInstance/>
                            <InitializeOption>0</InitializeOption>
                        </Connector>
                        <Loop name="mapRoles">
                            <LoopType>2</LoopType>
                            <WorkAttributeName>SysRoleDNs</WorkAttributeName>
                            <LoopAttributeName>lookupid</LoopAttributeName>
                            <Branch name="mapRoles">
                                <Connector name="ITIM_Lookup">
                                    <InheritFrom>/Connectors/ITIM_Lookup</InheritFrom>
                                    <ConnectorMode>Lookup</ConnectorMode>
                                    <ConnectorState>Enabled</ConnectorState>
                                    <Configuration>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <parameter name="ldapSearchFilter">(objectclass=erSystemRole)</parameter>
                                    </Configuration>
                                    <Parser>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <Schema name="Input">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                        <Schema name="Output">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                    </Parser>
                                    <AttributeMap name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                        <AttributeMapItem>
                                            <Name>errolename</Name>
                                            <Type>simple</Type>
                                            <Simple>errolename</Simple>
                                        </AttributeMapItem>
                                    </AttributeMap>
                                    <AttributeMap name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </AttributeMap>
                                    <DeltaSettings>
                                        <WhenToCommit>After every database operation</WhenToCommit>
                                        <Driver>CloudScape</Driver>
                                    </DeltaSettings>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                        <SchemaItem>
                                            <Name>$dn</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>cn</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>departmentnumber</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>description</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>employeenumber</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>employeestatus</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erCustomConstraint</Name>
                                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erDefaultValue</Name>
                                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erIsReadOnly</Name>
                                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erOid</Name>
                                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erType</Name>
                                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>eraliases</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>ercreatedate</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erglobalid</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erlastmodifiedtime</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erparent</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>erpersonstatus</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>errolename</Name>
                                            <Syntax>java.lang.String</Syntax>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>ersystemrolecategory</Name>
                                            <Syntax>java.lang.String</Syntax>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>ferccode</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>givenname</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>l</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>mail</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>mailstop</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>manager</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>middlename</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>objectClass</Name>
                                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>objectclass</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>positionnumber</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>reportstoemployeeid</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>reportstopositionnbr</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>sn</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>telephonenumber</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>title</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                        <SchemaItem>
                                            <Name>uid</Name>
                                            <Syntax>java.lang.String</Syntax>
                                            <Presence>null</Presence>
                                        </SchemaItem>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <LinkCriteria>
                                        <InheritFrom>[no inheritance]</InheritFrom>
                                        <LinkCriteriaItem>
                                            <Key>12bc1a10a79</Key>
                                            <Attribute>$dn</Attribute>
                                            <Operator>equals</Operator>
                                            <Value>$lookupid</Value>
                                        </LinkCriteriaItem>
                                    </LinkCriteria>
                                    <Hooks>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Hooks>
                                    <CheckpointConfig/>
                                    <SandboxConfig/>
                                    <Reconnect>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <ReconnectRules/>
                                    </Reconnect>
                                    <Operations/>
                                    <PoolDefinition>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </PoolDefinition>
                                    <PoolInstance>
                                        <Enabled>false</Enabled>
                                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                    </PoolInstance>
                                    <InitializeOption>0</InitializeOption>
                                </Connector>
                                <Connector name="listRoles">
                                    <ConnectorMode>Script</ConnectorMode>
                                    <ConnectorState>Disabled</ConnectorState>
                                    <Configuration/>
                                    <ConnectorScript><![CDATA[//if (roles.length()!=0)
//	roles+=",";
//roles+=work.getString("errolename");
// hash role here to avoid duplicate entries
]]></ConnectorScript>
                                    <Parser>
                                        <Schema name="Input">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                        <Schema name="Output">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                    </Parser>
                                    <AttributeMap name="Input"/>
                                    <AttributeMap name="Output"/>
                                    <DeltaSettings>
                                        <Driver>BTree</Driver>
                                    </DeltaSettings>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <LinkCriteria/>
                                    <Hooks/>
                                    <CheckpointConfig/>
                                    <SandboxConfig/>
                                    <Reconnect>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <ReconnectRules/>
                                    </Reconnect>
                                    <Operations/>
                                    <PoolDefinition>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </PoolDefinition>
                                    <PoolInstance/>
                                    <InitializeOption>0</InitializeOption>
                                </Connector>
                                <Connector name="SaveSysRoleAsCSV">
                                    <InheritFrom>/Connectors/SaveAsCSV</InheritFrom>
                                    <ConnectorMode>AddOnly</ConnectorMode>
                                    <ConnectorState>Enabled</ConnectorState>
                                    <Configuration>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <parameter name="filePath">@SUBSTITUTE{property:ITIM_PowerTools.ACLExportFolder}\SysRolesMap.csv</parameter>
                                    </Configuration>
                                    <Parser>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <Schema name="Input">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                        <Schema name="Output">
                                            <InheritFrom>[parent]</InheritFrom>
                                        </Schema>
                                    </Parser>
                                    <AttributeMap name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </AttributeMap>
                                    <AttributeMap name="Output">
                                        <InheritFrom>[no inheritance]</InheritFrom>
                                        <AttributeMapItem>
                                            <Name>errolename</Name>
                                            <Type>simple</Type>
                                            <Simple>errolename</Simple>
                                        </AttributeMapItem>
                                        <AttributeMapItem>
                                            <Name>foundDN</Name>
                                            <Type>simple</Type>
                                            <Simple>foundDN</Simple>
                                        </AttributeMapItem>
                                    </AttributeMap>
                                    <DeltaSettings>
                                        <WhenToCommit>After every database operation</WhenToCommit>
                                        <Driver>CloudScape</Driver>
                                    </DeltaSettings>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <LinkCriteria>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </LinkCriteria>
                                    <Hooks>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Hooks>
                                    <CheckpointConfig/>
                                    <SandboxConfig/>
                                    <Reconnect>
                                        <InheritFrom>[parent]</InheritFrom>
                                        <ReconnectRules/>
                                    </Reconnect>
                                    <Operations/>
                                    <PoolDefinition>
                                        <InheritFrom>[parent]</InheritFrom>
                                    </PoolDefinition>
                                    <PoolInstance>
                                        <Enabled>false</Enabled>
                                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                    </PoolInstance>
                                    <InitializeOption>0</InitializeOption>
                                </Connector>
                                <Conditions/>
                                <MatchAny>false</MatchAny>
                                <Enabled>true</Enabled>
                                <Type>0</Type>
                            </Branch>
                        </Loop>
                        <Connector name="SetFileName">
                            <ConnectorMode>Script</ConnectorMode>
                            <ConnectorState>Enabled</ConnectorState>
                            <Configuration/>
                            <ConnectorScript><![CDATA[var containername=null;
var contents=work.getString("acl");
var name=contents.substring(contents.indexOf(" name=")+7,contents.indexOf(" scope=")-1);
var ou=work.getString("containerou");
var o=work.getString("containero");
var dn=work.getString("containerdn");
if (o == null){
	if (ou==null) {
		containername=dn;
		containertype="dn";
	} else {
		containername=ou;
		containertype="ou";
	}
} else {
	containername=o;
	containertype="o";
}
filename=name.replace(/[\\\/\[\]:;\|=,\+\*\?<>\_"]/g,"~"); // sanitize the name
var filename=getExternalProperty("ACLExportFolder")+"\\"+filename+"_"+containertype+"_"+containername+".xml";
//if ((new java.io.File(filename)).exists())
//  system.shutdownAL();
SaveACLAsBlob.connector.setParam("filePath",filename);
task.logmsg("INFO","Saving ACL to "+filename);]]></ConnectorScript>
                            <Parser>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                            </Parser>
                            <AttributeMap name="Input"/>
                            <AttributeMap name="Output"/>
                            <DeltaSettings>
                                <Driver>BTree</Driver>
                            </DeltaSettings>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <LinkCriteria/>
                            <Hooks/>
                            <CheckpointConfig/>
                            <SandboxConfig/>
                            <Reconnect>
                                <InheritFrom>[parent]</InheritFrom>
                                <ReconnectRules/>
                            </Reconnect>
                            <Operations/>
                            <PoolDefinition>
                                <InheritFrom>[parent]</InheritFrom>
                            </PoolDefinition>
                            <PoolInstance/>
                            <InitializeOption>0</InitializeOption>
                        </Connector>
                        <Connector name="SaveACLAsBlob">
                            <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                            <ConnectorMode>AddOnly</ConnectorMode>
                            <ConnectorState>Enabled</ConnectorState>
                            <Configuration>
                                <InheritFrom>[parent]</InheritFrom>
                            </Configuration>
                            <Parser>
                                <InheritFrom>[parent]</InheritFrom>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                            </Parser>
                            <AttributeMap name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </AttributeMap>
                            <AttributeMap name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                                <AttributeMapItem>
                                    <Name>contents</Name>
                                    <Type>simple</Type>
                                    <Simple>acl</Simple>
                                </AttributeMapItem>
                            </AttributeMap>
                            <DeltaSettings>
                                <WhenToCommit>After every database operation</WhenToCommit>
                                <Driver>CloudScape</Driver>
                            </DeltaSettings>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                                <SchemaItem>
                                    <Name>contents</Name>
                                </SchemaItem>
                            </Schema>
                            <LinkCriteria>
                                <InheritFrom>[parent]</InheritFrom>
                            </LinkCriteria>
                            <Hooks>
                                <InheritFrom>[parent]</InheritFrom>
                            </Hooks>
                            <CheckpointConfig/>
                            <SandboxConfig/>
                            <Reconnect>
                                <InheritFrom>[parent]</InheritFrom>
                                <ReconnectRules/>
                            </Reconnect>
                            <Operations/>
                            <PoolDefinition>
                                <InheritFrom>[parent]</InheritFrom>
                            </PoolDefinition>
                            <PoolInstance>
                                <Enabled>false</Enabled>
                                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                            </PoolInstance>
                            <InitializeOption>3</InitializeOption>
                        </Connector>
                        <Conditions/>
                        <MatchAny>false</MatchAny>
                        <Enabled>true</Enabled>
                        <Type>0</Type>
                    </Branch>
                </Loop>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportAllCustomCode">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks>
                <Hook name="prolog0">
                    <Name>prolog0</Name>
                    <Script><![CDATA[// create export directories, as defined in ITIM_PowerTools property file

var propsCfg = system.getTDIProperties();
/*
var storesList = propsCfg.getPropertyStoreNames();
var storeNamesIter = storesList.iterator();
while (storeNamesIter.hasNext()) {
	var storeName = storeNamesIter.next();
	task.logmsg("INFO", "Before Init: next store = " + storeName);
}*/

var storeName = "ITIM_PowerTools";
var propsKeys = propsCfg.getPropertyStoreKeys(storeName);
if (propsKeys != null) {
	while (propsKeys.hasNext()) {
		var key = propsKeys.next();
		var val = propsCfg.getProperty(key);
		if (key.indexOf("ExportFolder") != -1) {
			task.logmsg("INFO", "Before Init: creating path = " + val);
			if (new java.io.File(val).mkdirs()) {
				task.logmsg("INFO", "Before Init: created path = " + val);
			}
			else {
				task.logmsg("INFO", "Before Init: already exists, path = " + val);
			}
		}
	}
}
else {
	task.logmsg("INFO", "Before Init: no keys in store = " + storeName);
	
}]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="ExportLifecycle" state="Simulated"/>
                    <Component name="ExportOperationalWorkflows" state="Simulated"/>
                    <Component name="ExportProvisioningPolicies" state="Simulated"/>
                    <Component name="ExportForms" state="Simulated"/>
                    <Component name="ExportMailTemplates" state="Simulated"/>
                    <Component name="ExportACLs" state="Simulated"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer"/>
            <ContainerDF name="DataFlowContainer">
                <Function name="ExportLifecycle">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>erCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erProcessName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erProcessName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                        </SchemaItem>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportLifecycleWorkflows</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
                <Function name="ExportOperationalWorkflows">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>erCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>erCategory</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                        </SchemaItem>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportOperationalWorkflows</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
                <Function name="ExportProvisioningPolicies">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erentitlements</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlabel</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicyitemname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicymembership</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicytarget</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>description</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erentitlements</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlabel</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicyitemname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicymembership</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicytarget</Name>
                        </SchemaItem>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportProvisioningPolicies</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
                <Function name="ExportForms">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>erformname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erformname</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                        </SchemaItem>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportFormTemplates</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
                <Function name="ExportMailTemplates">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>cn</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                        </SchemaItem>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportMailTemplates</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
                <Function name="ExportACLs">
                    <InheritFrom>system:/Functions/ibmdi.AssemblyLineFC</InheritFrom>
                    <ConnectorState>Enabled</ConnectorState>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="assemblyLine">ExportACLs</parameter>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <SandboxConfig/>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                </Function>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportAllWorkflows_raw">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="SetOutputFile" state="Enabled"/>
                    <Component name="SaveData" state="Simulated"/>
                    <Component name="ITIM_LDAP" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_LDAP">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <parameter name="automapADPassword">false</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapAddAttr">false</parameter>
                        <parameter name="ldapAuthenticationMethod">Simple</parameter>
                        <parameter name="ldapPageSize">0</parameter>
                        <parameter name="ldapPassword">9Ritgoydya@gen!</parameter>
                        <parameter name="ldapReferrals">follow</parameter>
                        <parameter name="ldapSearchBase">dc=dev,dc=dom</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erWorkflowDefinition)</parameter>
                        <parameter name="ldapSearchScope">subtree</parameter>
                        <parameter name="ldapSizeLimit">0</parameter>
                        <parameter name="ldapTimeLimit">0</parameter>
                        <parameter name="ldapUrl">ldap://advtimd:389</parameter>
                        <parameter name="ldapUseSSL">false</parameter>
                        <parameter name="ldapUsername">cn=e99818</parameter>
                        <parameter name="ldapVLVPageSize">0</parameter>
                        <parameter name="simulateRename">true</parameter>
                    </Configuration>
                    <ComputeChanges>true</ComputeChanges>
                    <DeltaBehavior>0</DeltaBehavior>
                    <DeltaStrict>true</DeltaStrict>
                    <Parser>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AttributeMapItem>
                            <Name>erCategory</Name>
                            <Type>simple</Type>
                            <Simple>erCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erProcessName</Name>
                            <Type>simple</Type>
                            <Simple>erProcessName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXML</Name>
                            <Type>simple</Type>
                            <Simple>erXML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erglobalid</Name>
                            <Type>simple</Type>
                            <Simple>erglobalid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erlastmodifiedtime</Name>
                            <Type>simple</Type>
                            <Simple>erlastmodifiedtime</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erversionid</Name>
                            <Type>simple</Type>
                            <Simple>erversionid</Simple>
                        </AttributeMapItem>
                        <NullBehavior>Empty String</NullBehavior>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erProcessName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erprocessname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "";
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_multiple">
                            <Name>lookup_multiple</Name>
                            <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_nomatch">
                            <Name>lookup_nomatch</Name>
                            <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Enabled>false</Enabled>
                        <MinPoolSize>0</MinPoolSize>
                        <PurgeInterval>0</PurgeInterval>
                        <InitializeAttempts>1</InitializeAttempts>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="SetOutputFile">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var name=getExternalProperty("WorkflowExportRawFolder")+"\\"+work.getString("erglobalid")+"_"+work.getString("erProcessName")+"_"+work.getString("erCategory")+"_";
var ext=".xml";
var i=0;
//mmmmm ...obfuscation...this loop looks for the next file name that does not exist yet starting with "name" ending with "ext"
while (((new java.io.File(fileName=name+(i++)+ext)).exists())){}
SaveData.connector.setParam("filePath",fileName);
task.logmsg("INFO","Saving snapshot to "+fileName);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="SaveData">
                    <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>system:/Parsers/ibmdi.CSV</InheritFrom>
                        <parameter name="attributeName">erdata</parameter>
                        <parameter name="characterSet"/>
                        <parameter name="csvColumnSeparator">,</parameter>
                        <parameter name="csvEnableQuoting">false</parameter>
                        <parameter name="csvLogLongLines">0</parameter>
                        <parameter name="csvWriteHeader">false</parameter>
                        <parameter name="debug">false</parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>*</Name>
                            <Type>simple</Type>
                            <Simple>*</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportFormTemplates">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="SetOutputFile" state="Enabled"/>
                    <Component name="SaveData_csv" state="Simulated"/>
                    <Component name="SaveData_xml" state="Simulated"/>
                    <Component name="SaveData_blob" state="Simulated"/>
                    <Component name="ITIM_FormTemplates" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_FormTemplates">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <parameter name="automapADPassword">false</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapAddAttr">false</parameter>
                        <parameter name="ldapAuthenticationMethod">Simple</parameter>
                        <parameter name="ldapPageSize">0</parameter>
                        <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                        <parameter name="ldapReferrals">follow</parameter>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=formTemplates,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erFormTemplate)</parameter>
                        <parameter name="ldapSearchScope">subtree</parameter>
                        <parameter name="ldapSizeLimit">0</parameter>
                        <parameter name="ldapTimeLimit">0</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                        <parameter name="ldapUseSSL">false</parameter>
                        <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                        <parameter name="ldapVLVPageSize">0</parameter>
                        <parameter name="simulateRename">true</parameter>
                    </Configuration>
                    <ComputeChanges>true</ComputeChanges>
                    <DeltaBehavior>0</DeltaBehavior>
                    <DeltaStrict>true</DeltaStrict>
                    <Parser>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AttributeMapItem>
                            <Name>erformname</Name>
                            <Type>simple</Type>
                            <Simple>erformname</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erxml</Name>
                            <Type>simple</Type>
                            <Simple>erxml</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectclass</Name>
                            <Type>simple</Type>
                            <Simple>objectclass</Simple>
                        </AttributeMapItem>
                        <NullBehavior>Empty String</NullBehavior>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erAcl</Name>
                            <NativeSyntax>MAY/Binary</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erAuthorizationOwner</Name>
                            <NativeSyntax>MAY/DN</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomClass</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erFormName</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erGlobalId</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsDeleted</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erLastModifiedTime</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erLifecycleEnable</Name>
                            <NativeSyntax>MAY/Boolean/Flag for lifecycle operation on an entity</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erParent</Name>
                            <NativeSyntax>MAY/DN</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/Binary</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erformname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "";
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_multiple">
                            <Name>lookup_multiple</Name>
                            <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_nomatch">
                            <Name>lookup_nomatch</Name>
                            <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Enabled>false</Enabled>
                        <MinPoolSize>0</MinPoolSize>
                        <PurgeInterval>0</PurgeInterval>
                        <InitializeAttempts>1</InitializeAttempts>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="SetOutputFile">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var name=getExternalProperty("FormTemplatesExportFolder")+"\\"+work.getString("erFormName")+".xml";
//if ((new java.io.File(name)).exists()){
//  task.logmsg("ERROR","Workflow was exported already");
//  system.shutdown();
//}
SaveData_blob.connector.setParam("filePath",name);
task.logmsg("INFO","Saving snapshot to "+name);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="SaveData_csv">
                    <InheritFrom>/Connectors/SaveAsCSV</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Disabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="csvColumns"><![CDATA[cn
erEnabled
erIsReadOnly
erTemplateName
erSubject
erText
erXHTML]]></parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="SaveData_xml">
                    <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Disabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>system:/Parsers/ibmdi.XML</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="isnamespaceaware">false</parameter>
                        <parameter name="isvalidating">false</parameter>
                        <parameter name="omitxmldeclaration">true</parameter>
                        <parameter name="xmlEntryTag">entry</parameter>
                        <parameter name="xmlRootTag">MailTemplate</parameter>
                        <parameter name="xmlValueTag">value</parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectclass</Name>
                            <Type>simple</Type>
                            <Simple>objectclass</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="SaveData_blob">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>erxml</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportLifecycleWorkflows">
            <ModTime>1462548718145</ModTime>
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="SetOutputFile" state="Enabled"/>
                    <Component name="SaveData" state="Simulated"/>
                    <Component name="ITIM_Global" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <ModTime>1462548718145</ModTime>
                <Connector name="ITIM_Global">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ModTime>1462548718145</ModTime>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <parameter name="automapADPassword">false</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapAddAttr">false</parameter>
                        <parameter name="ldapAuthenticationMethod">Simple</parameter>
                        <parameter name="ldapPageSize">0</parameter>
                        <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                        <parameter name="ldapReferrals">follow</parameter>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=workflow,erglobalid=00000000000000000000,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erWorkflowDefinition)</parameter>
                        <parameter name="ldapSearchScope">subtree</parameter>
                        <parameter name="ldapSizeLimit">0</parameter>
                        <parameter name="ldapTimeLimit">0</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                        <parameter name="ldapUseSSL">false</parameter>
                        <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                        <parameter name="ldapVLVPageSize">0</parameter>
                        <parameter name="simulateRename">true</parameter>
                    </Configuration>
                    <ComputeChanges>true</ComputeChanges>
                    <DeltaBehavior>0</DeltaBehavior>
                    <DeltaStrict>true</DeltaStrict>
                    <Parser>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AttributeMapItem>
                            <Name>erCategory</Name>
                            <Type>simple</Type>
                            <Simple>erCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erProcessName</Name>
                            <Type>simple</Type>
                            <Simple>erProcessName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXML</Name>
                            <Type>simple</Type>
                            <Simple>erXML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erglobalid</Name>
                            <Type>simple</Type>
                            <Simple>erglobalid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erlastmodifiedtime</Name>
                            <Type>simple</Type>
                            <Simple>erlastmodifiedtime</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erversionid</Name>
                            <Type>simple</Type>
                            <Simple>erversionid</Simple>
                        </AttributeMapItem>
                        <NullBehavior>Empty String</NullBehavior>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <ModTime>1462548718145</ModTime>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                        <RowLocking>SERIALIZABLE</RowLocking>
                        <ChangeDetectionMode>DETECT_ALL</ChangeDetectionMode>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erProcessName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erprocessname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "";
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_multiple">
                            <Name>lookup_multiple</Name>
                            <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_nomatch">
                            <Name>lookup_nomatch</Name>
                            <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Enabled>false</Enabled>
                        <MinPoolSize>0</MinPoolSize>
                        <PurgeInterval>0</PurgeInterval>
                        <InitializeAttempts>1</InitializeAttempts>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="SetOutputFile">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var name=getExternalProperty("GlobalWorkflowExportFolder")+"\\"+work.getString("erProcessName")+".xml";
//if ((new java.io.File(name)).exists()){
//  task.logmsg("ERROR","Workflow was exported already");
//  system.shutdown();
//}
SaveData.connector.setParam("filePath",name);
task.logmsg("INFO","Saving snapshot to "+name);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="SaveData">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="attributeName">erdata</parameter>
                        <parameter name="characterSet"/>
                        <parameter name="csvColumnSeparator">,</parameter>
                        <parameter name="csvEnableQuoting">false</parameter>
                        <parameter name="csvLogLongLines">0</parameter>
                        <parameter name="csvWriteHeader">false</parameter>
                        <parameter name="debug">false</parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>erXML</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportMailTemplates">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="SetOutputFile" state="Enabled"/>
                    <Component name="SaveData_csv" state="Simulated"/>
                    <Component name="SaveData_xml" state="Simulated"/>
                    <Component name="ITIM_MailTemplates" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_MailTemplates">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <parameter name="automapADPassword">false</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapAddAttr">false</parameter>
                        <parameter name="ldapAuthenticationMethod">Simple</parameter>
                        <parameter name="ldapPageSize">0</parameter>
                        <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                        <parameter name="ldapReferrals">follow</parameter>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=config,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erTemplate)</parameter>
                        <parameter name="ldapSearchScope">subtree</parameter>
                        <parameter name="ldapSizeLimit">0</parameter>
                        <parameter name="ldapTimeLimit">0</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                        <parameter name="ldapUseSSL">false</parameter>
                        <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                        <parameter name="ldapVLVPageSize">0</parameter>
                        <parameter name="simulateRename">true</parameter>
                    </Configuration>
                    <ComputeChanges>true</ComputeChanges>
                    <DeltaBehavior>0</DeltaBehavior>
                    <DeltaStrict>true</DeltaStrict>
                    <Parser>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectclass</Name>
                            <Type>simple</Type>
                            <Simple>objectclass</Simple>
                        </AttributeMapItem>
                        <NullBehavior>Empty String</NullBehavior>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSubject</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erText</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxhtml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "";
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_multiple">
                            <Name>lookup_multiple</Name>
                            <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_nomatch">
                            <Name>lookup_nomatch</Name>
                            <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Enabled>false</Enabled>
                        <MinPoolSize>0</MinPoolSize>
                        <PurgeInterval>0</PurgeInterval>
                        <InitializeAttempts>1</InitializeAttempts>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="SetOutputFile">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var templatename=work.getString("erTemplateName");
var name=getExternalProperty("MailTemplatesExportFolder")+"\\"+work.getString("cn")+(templatename!=null&&templatename.length>0?"_"+templatename:"")+".xml";
//if ((new java.io.File(name)).exists()){
//  task.logmsg("ERROR","Workflow was exported already");
//  system.shutdown();
//}
SaveData_xml.connector.setParam("filePath",name);
task.logmsg("INFO","Saving snapshot to "+name);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="SaveData_csv">
                    <InheritFrom>/Connectors/SaveAsCSV</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Disabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="csvColumns"><![CDATA[cn
erEnabled
erIsReadOnly
erTemplateName
erSubject
erText
erXHTML]]></parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="SaveData_xml">
                    <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>system:/Parsers/ibmdi.XML</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="isnamespaceaware">false</parameter>
                        <parameter name="isvalidating">false</parameter>
                        <parameter name="omitxmldeclaration">true</parameter>
                        <parameter name="xmlEntryTag">entry</parameter>
                        <parameter name="xmlRootTag">MailTemplate</parameter>
                        <parameter name="xmlValueTag">value</parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>objectclass</Name>
                            <Type>simple</Type>
                            <Simple>objectclass</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportOperationalWorkflows">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="iferXMLpresent" state="Enabled"/>
                    <Component name="erXMLs" state="Enabled"/>
                    <Component name="getIDsetFile" state="Enabled"/>
                    <Component name="ITIMOperation" state="Enabled"/>
                    <Component name="SaveData" state="Simulated"/>
                    <Component name="ITIM_category" state="Enabled"/>
                    <Component name="ITIM_objectProfile" state="Enabled"/>
                    <Component name="ITIM_serviceProfile" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_category">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=category,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erObjectCategory)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erCategory</Name>
                            <Type>simple</Type>
                            <Simple>erType</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erobjectprofilename</Name>
                            <Type>substitution</Type>
                            <Simple>ertype</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="ITIM_objectProfile">
                    <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <UserComment/>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <parameter name="automapADPassword">false</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="ldapAddAttr">false</parameter>
                        <parameter name="ldapAuthenticationMethod">Simple</parameter>
                        <parameter name="ldapPageSize">0</parameter>
                        <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                        <parameter name="ldapReferrals">follow</parameter>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=objectProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erObjectProfile)</parameter>
                        <parameter name="ldapSearchScope">subtree</parameter>
                        <parameter name="ldapSizeLimit">0</parameter>
                        <parameter name="ldapTimeLimit">0</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                        <parameter name="ldapUseSSL">false</parameter>
                        <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                        <parameter name="ldapVLVPageSize">0</parameter>
                        <parameter name="simulateRename">true</parameter>
                    </Configuration>
                    <ComputeChanges>true</ComputeChanges>
                    <DeltaBehavior>0</DeltaBehavior>
                    <DeltaStrict>true</DeltaStrict>
                    <Parser>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AttributeMapItem>
                            <Name>erCategory</Name>
                            <Type>simple</Type>
                            <Simple>erCategory</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXML</Name>
                            <Type>simple</Type>
                            <Simple>erXML</Simple>
                            <NullBehavior>Delete</NullBehavior>
                            <NullDefinition>EmptyString</NullDefinition>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ercustomclass</Name>
                            <Type>simple</Type>
                            <Simple>ercustomclass</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erobjectprofilename</Name>
                            <Type>simple</Type>
                            <Simple>erobjectprofilename</Simple>
                        </AttributeMapItem>
                        <NullBehavior>Empty String</NullBehavior>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "";
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Hook name="default_ok">
                            <Name>default_ok</Name>
                            <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_multiple">
                            <Name>lookup_multiple</Name>
                            <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                        <Hook name="lookup_nomatch">
                            <Name>lookup_nomatch</Name>
                            <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                            <Enabled>true</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                        <Enabled>false</Enabled>
                        <MinPoolSize>0</MinPoolSize>
                        <PurgeInterval>0</PurgeInterval>
                        <InitializeAttempts>1</InitializeAttempts>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="ITIM_serviceProfile">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=serviceProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=*)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Branch name="iferXMLpresent">
                    <Loop name="erXMLs">
                        <LoopType>2</LoopType>
                        <WorkAttributeName>erXML</WorkAttributeName>
                        <LoopAttributeName>objoperation</LoopAttributeName>
                        <Branch name="erXMLs">
                            <Connector name="getIDsetFile">
                                <ConnectorMode>Script</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration/>
                                <ConnectorScript><![CDATA[var name=null;
var dn=null;
var operation=work.getString("objoperation");
var bitsnpieces=operation.split("\"");
for(var i=0; i<bitsnpieces.length;i++){
  if (name == null && bitsnpieces[i].indexOf(" name=")!=-1 && i<bitsnpieces.length-1)
    name=bitsnpieces[i+1];
  if (dn == null && bitsnpieces[i].indexOf(" definitionDN=")!=-1 && i<bitsnpieces.length-1)
    dn=bitsnpieces[i+1];
  if (name != null && dn!=null)
    break;
}
if (name == null || dn==null){
  task.logmsg("ERROR",work.getString("erobjectprofilename")+" is missing name or DN");
  system.skipEntry();
}
//ITIMOperation.connector.setParam("ldapSearchBase",dn);
var oid=dn.substring(dn.indexOf("=")+1,dn.indexOf(","));
work.setAttribute("operationID",oid);
//
//work.getString("erCategory")

var filename=getExternalProperty("WorkflowExportFolder")+"\\"+name+"_"+work.getString("erobjectprofilename")+"_"+work.getString("erCategory")+"_"+oid+".xml";
//if ((new java.io.File(filename)).exists())
//  system.shutdownAL();
SaveData.connector.setParam("filePath",filename);
task.logmsg("INFO","Saving snapshot to "+filename);]]></ConnectorScript>
                                <Parser>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input"/>
                                <AttributeMap name="Output"/>
                                <DeltaSettings>
                                    <Driver>BTree</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria/>
                                <Hooks/>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance/>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Connector name="ITIMOperation">
                                <InheritFrom>/Connectors/ITIM_Iterator</InheritFrom>
                                <ConnectorMode>Lookup</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <parameter name="ldapSearchBase">@SUBSTITUTEou=operations,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                                    <parameter name="ldapSearchFilter">(objectclass=*)</parameter>
                                </Configuration>
                                <Parser>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input">
                                    <InheritFrom>[no inheritance]</InheritFrom>
                                    <AttributeMapItem>
                                        <Name>erXML</Name>
                                        <Type>simple</Type>
                                        <Simple>erXML</Simple>
                                    </AttributeMapItem>
                                </AttributeMap>
                                <AttributeMap name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </AttributeMap>
                                <DeltaSettings>
                                    <WhenToCommit>After every database operation</WhenToCommit>
                                    <Driver>CloudScape</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <SchemaItem>
                                        <Name>$dn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>cn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>departmentnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>description</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>employeestatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erCustomConstraint</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erDefaultValue</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erIsReadOnly</Name>
                                        <NativeSyntax>MAY/Boolean</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erOid</Name>
                                        <NativeSyntax>MUST/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erType</Name>
                                        <NativeSyntax>MAY/Directory String</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>eraliases</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ercreatedate</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erglobalid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erlastmodifiedtime</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erparent</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>erpersonstatus</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>ferccode</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>givenname</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>l</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mail</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>mailstop</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>manager</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>middlename</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectClass</Name>
                                        <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>objectclass</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>positionnumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstoemployeeid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>reportstopositionnbr</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>sn</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>telephonenumber</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>title</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                    <SchemaItem>
                                        <Name>uid</Name>
                                        <Syntax>java.lang.String</Syntax>
                                        <Presence>null</Presence>
                                    </SchemaItem>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <LinkCriteriaItem>
                                        <Key>118ed3f0660</Key>
                                        <Attribute>erglobalid</Attribute>
                                        <Operator>equals</Operator>
                                        <Value>$operationID</Value>
                                    </LinkCriteriaItem>
                                </LinkCriteria>
                                <Hooks>
                                    <InheritFrom>[parent]</InheritFrom>
                                </Hooks>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance>
                                    <Enabled>false</Enabled>
                                    <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                </PoolInstance>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Connector name="SaveData">
                                <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
                                <ConnectorMode>AddOnly</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <parameter name="debug">false</parameter>
                                </Configuration>
                                <Parser>
                                    <InheritFrom>/Parsers/blob</InheritFrom>
                                    <parameter name="attributeName">erdata</parameter>
                                    <parameter name="characterSet"/>
                                    <parameter name="csvColumnSeparator">,</parameter>
                                    <parameter name="csvColumns">erXML</parameter>
                                    <parameter name="csvEnableQuoting">false</parameter>
                                    <parameter name="csvLogLongLines">0</parameter>
                                    <parameter name="csvWriteHeader">false</parameter>
                                    <parameter name="debug">false</parameter>
                                    <parameter name="isnamespaceaware">false</parameter>
                                    <parameter name="isvalidating">false</parameter>
                                    <parameter name="omitxmldeclaration">false</parameter>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </AttributeMap>
                                <AttributeMap name="Output">
                                    <InheritFrom>[no inheritance]</InheritFrom>
                                    <AttributeMapItem>
                                        <Name>contents</Name>
                                        <Type>simple</Type>
                                        <Simple>erXML</Simple>
                                    </AttributeMapItem>
                                </AttributeMap>
                                <DeltaSettings>
                                    <WhenToCommit>After every database operation</WhenToCommit>
                                    <Driver>CloudScape</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                    <SchemaItem>
                                        <Name>contents</Name>
                                    </SchemaItem>
                                </Schema>
                                <LinkCriteria>
                                    <InheritFrom>[parent]</InheritFrom>
                                </LinkCriteria>
                                <Hooks>
                                    <InheritFrom>[parent]</InheritFrom>
                                </Hooks>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance>
                                    <Enabled>false</Enabled>
                                    <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                                </PoolInstance>
                                <InitializeOption>3</InitializeOption>
                            </Connector>
                            <Conditions/>
                            <MatchAny>false</MatchAny>
                            <Enabled>true</Enabled>
                            <Type>0</Type>
                        </Branch>
                    </Loop>
                    <Conditions>
                        <BranchCondition>
                            <LeftHand>erXML</LeftHand>
                            <Operator>exists</Operator>
                            <CaseSensitive>true</CaseSensitive>
                            <MatchAny>false</MatchAny>
                        </BranchCondition>
                    </Conditions>
                    <MatchAny>false</MatchAny>
                    <Enabled>true</Enabled>
                    <Type>0</Type>
                </Branch>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ExportProvisioningPolicies">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="SetOutputFile" state="Enabled"/>
                    <Component name="SaveAsBlob" state="Simulated"/>
                    <Component name="ITIM_objectProfile" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="ITIM_objectProfile">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=policies,erglobalid=00000000000000000000,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erProvisioningPolicy)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>description</Name>
                            <Type>simple</Type>
                            <Simple>description</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erenabled</Name>
                            <Type>simple</Type>
                            <Simple>erenabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erentitlements</Name>
                            <Type>simple</Type>
                            <Simple>erentitlements</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erglobalid</Name>
                            <Type>simple</Type>
                            <Simple>erglobalid</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erlabel</Name>
                            <Type>simple</Type>
                            <Simple>erlabel</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpolicyitemname</Name>
                            <Type>simple</Type>
                            <Simple>erpolicyitemname</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpolicymembership</Name>
                            <Type>simple</Type>
                            <Simple>erpolicymembership</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erpolicytarget</Name>
                            <Type>simple</Type>
                            <Simple>erpolicytarget</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erentitlements</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlabel</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicyitemname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicymembership</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicytarget</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpriority</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erreqpolicytarget</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erscope</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="SetOutputFile">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var filename=work.getString("erPolicyItemName").replace(/[\\\/\[\]:;\|=,\+\*\?<>\_"]/g,"~"); // sanitize the name
var name=getExternalProperty("PPExportFolder")+"\\"+filename+"_"+work.getString("erGlobalID")+".xml";
//if ((new java.io.File(name)).exists()){
//  task.logmsg("ERROR","Workflow was exported already");
//  system.shutdown();
//}
SaveAsBlob.connector.setParam("filePath",name);
task.logmsg("INFO","Saving snapshot to "+name);]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="SaveAsBlob">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>erentitlements</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportACLs">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks>
                <Hook name="prolog">
                    <Name>prolog</Name>
                    <Script><![CDATA[// build sysrole hash
var fileConn = system.loadConnector("Connectors/LoadSysRolesMapAsCSV");
var key = null;
var hsh = new java.util.HashMap();

var e; // local Entry variable.
try { // try-catch used in case connector not initialized
   fileConn.terminate();
} catch (ignoreException) {  } // Do nothing
fileConn.initialize(null);
fileConn.selectEntries();
hsh.clear(); // Clear the Hastable.

// Load entries from the Iterator into the HashMap
while ((e = fileConn.getNextEntry()) != null) {
	var rolename = e.getString("errolename");
	var dn = e.getString("founddn");
    hsh.put(dn, rolename);
}

// now re-hash them into the real DN's
var i=hsh.keySet().iterator();
while(i.hasNext()){
	roledn=i.next();
	// lookup the appropriate role dn in the system
	var filter="(&(objectclass=erSystemRole)(errolename="+hsh.get(roledn)+"))";
	//task.logmsg("FATAL",task.getShortName()+": Looking up "+filter);
	ITIM_SysRoleLookup.setConnectorParam("ldapSearchFilter",filter);
	var sysroleEntry=ITIM_SysRoleLookup.getnext(); //(system.newEntry()
	if (sysroleEntry==null){
	    task.logmsg("FATAL",task.getShortName()+": can not find the sysrole "+hsh.get(roledn));
	    task.shutdown();
	} else {
		var sysroledn=sysroleEntry.getString("founddn");
		if (sysroledn==null){
		    task.logmsg("FATAL",task.getShortName()+": system role "+hsh.get(roledn)+" is null");
		    task.shutdown();
		} else {
			hsh.put(roledn,sysroledn);
		}
	}
}

]]></Script>
                    <Enabled>true</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="LoadAsBlob" state="Enabled"/>
                    <Component name="ParseName" state="Enabled"/>
                    <Component name="ITIM_OU_Lookup" state="Enabled"/>
                    <Component name="RemapSysRoles" state="Enabled"/>
                    <Component name="RemapServiceReferences" state="Enabled"/>
                    <Component name="newACLAttribute" state="Enabled"/>
                    <Component name="reviewACLs" state="Enabled"/>
                    <Component name="ifSameName" state="Enabled"/>
                    <Component name="replaceACL" state="Enabled"/>
                    <Component name="elseAdd" state="Enabled"/>
                    <Component name="addoldACL" state="Enabled"/>
                    <Component name="ifNewACL" state="Enabled"/>
                    <Component name="addnewACL" state="Enabled"/>
                    <Component name="SaveAsBlob" state="Simulated"/>
                    <Component name="ITIM_Update" state="Simulated"/>
                    <Component name="clearNewACLs" state="Enabled"/>
                    <Component name="FolderScan" state="Enabled"/>
                    <Component name="ITIM_SysRoleLookup" state="Enabled"/>
                    <Component name="ITIM_ServiceLookup" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="FolderScan">
                    <InheritFrom>/Connectors/FolderScan</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("ACLImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
//        main.logmsg("** FileScan Connector: found " + contents[i].getName());
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
// recursively scan subfolders
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  } else
     main.logmsg("** FileScan Connector: Directory is not existant or empty");
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="ITIM_SysRoleLookup">
                    <InheritFrom>/Connectors/ITIM_Lookup</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Passive</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchFilter">(objectclass=erSystemRole)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[no inheritance]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="after_initialize">
                            <Name>after_initialize</Name>
                            <Script><![CDATA[task.logmsg(thisConnector.getName()+": init " + thisConnector.connector.getParam("ldapSearchFilter"));
]]></Script>
                            <Enabled>false</Enabled>
                        </Hook>
                        <Hook name="before_execute">
                            <Name>before_execute</Name>
                            <Script><![CDATA[task.logmsg(thisConnector.getName()+": Looking up " + thisConnector.getParam("ldapSearchFilter"));
]]></Script>
                            <Enabled>false</Enabled>
                        </Hook>
                        <Hook name="before_lookup">
                            <Name>before_lookup</Name>
                            <Script/>
                            <Enabled>false</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="ITIM_ServiceLookup">
                    <InheritFrom>/Connectors/ITIM_Lookup</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Passive</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchFilter">(objectclass=erserviceitem)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="LoadAsBlob">
                    <InheritFrom>/Connectors/LoadAsBlob</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="ParseName">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[var contents=work.getString("contents");
var realname=contents.substring(contents.indexOf(" name=")+7,contents.indexOf(" scope=")-1);
work.setAttribute("realname",realname);
var f=work.getString("fileName");
var firstunderscore=f.indexOf("_")+1;
var secondunderscore=f.indexOf("_",firstunderscore)+1;
var filter="("+f.substring(firstunderscore,secondunderscore-1)+"="+f.substring(secondunderscore,f.indexOf(".xml"))+")";
//task.logmsg("INFO","Looking up "+filter+" "+realname);
//ITIM_Lookup.connector.setParam("ldapSearchFilter",filter);

// to save as blob for testing re-enable the saveasblob connector 
var filename=getExternalProperty("ACLExportFolder")+"\\new_"+work.getString("fileName")+".xml";
SaveAsBlob.connector.setParam("filePath",filename);]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="ITIM_OU_Lookup">
                    <InheritFrom>/Connectors/ITIM_Lookup</InheritFrom>
                    <ConnectorMode>Lookup</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>eracls</Name>
                            <Type>simple</Type>
                            <Simple>eracl</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AdvancedLinkMode>true</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = filter;
]]></Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="RemapSysRoles">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[// cut the pieces off xml and contstruct a new acl
var old=work.getString("contents");
var newacl="";
var bitsnpieces=old.split("<systemRole>");
for(var i=0; i<bitsnpieces.length;i++){
  cutout=bitsnpieces[i].indexOf("</systemRole>");
  if (cutout !=-1){
	roledn=bitsnpieces[i].substring(0,cutout);
	if (hsh.get(roledn) == null){
		task.logmsg("FATAL","Unknown SysRole "+roledn+". Aborting.");
        task.shutdown();
	} else {
		// inject the new role dn
		newacl+="<systemRole>"+hsh.get(roledn)+bitsnpieces[i].substring(cutout,bitsnpieces[i].length());
	}
  } else { // the following would be really just be a beginning piece
	newacl+=bitsnpieces[i];
  }
}
work.setAttribute("contents",newacl);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="RemapServiceReferences">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[// a hand-customized ACL may contain a service name between $$$...$$$ that needs to be resolved into a service dn
// before the ACL is imported
var old=work.getString("contents");
var bitsnpieces=old.split("$$$");
var newacl=bitsnpieces[0];
for(var i=1; i<bitsnpieces.length;i+=2){ // for all keys
	var servicekey=bitsnpieces[i];
	var servicefilter="(&(objectclass=erServiceItem)(erservicename="+servicekey+"))";
	//task.logmsg("FATAL",task.getShortName()+": Looking up "+servicefilter);
	ITIM_ServiceLookup.setConnectorParam("ldapSearchFilter",servicefilter);
	var serviceEntry=ITIM_ServiceLookup.getnext();
	if (serviceEntry==null){
		task.logmsg("FATAL",task.getShortName()+": can not find the service "+servicekey+" referenced in the ACI "+work.getString("fileName"));
		task.shutdown();
	} else {
		var servicedn=serviceEntry.getString("founddn");
		if (servicedn==null){
		    task.logmsg("FATAL",task.getShortName()+": service "+servicekey+" DN is null");
		    task.shutdown();
		} else {
			//task.logmsg("FATAL",task.getShortName()+": found "+servicefilter+" dn "+servicedn);
			newacl+=servicedn;
			if (i+1<bitsnpieces.length) // if not the last piece
				newacl+=bitsnpieces[i+1]; // append the trailing segment (could be empty)
		}
	}
}
work.setAttribute("contents",newacl);
]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <ALMap name="newACLAttribute">
                    <AttributeMap name="Input">
                        <AttributeMapItem>
                            <Name>isMatched</Name>
                            <Type>advanced</Type>
                            <Script>ret.value = false;</Script>
                            <Simple>isMatched</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>neweracl</Name>
                            <Type>advanced</Type>
                            <Script>ret.value = null;</Script>
                            <Simple>neweracl</Simple>
                            <SubstitutionTemplate>ret.value = null;</SubstitutionTemplate>
                            <NullBehavior>Null</NullBehavior>
                        </AttributeMapItem>
                    </AttributeMap>
                    <State>Enabled</State>
                </ALMap>
                <Loop name="reviewACLs">
                    <LoopType>2</LoopType>
                    <WorkAttributeName>eracls</WorkAttributeName>
                    <LoopAttributeName>eracl</LoopAttributeName>
                    <Branch name="reviewACLs">
                        <Branch name="ifSameName">
                            <Connector name="replaceACL">
                                <ConnectorMode>Script</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration/>
                                <ConnectorScript><![CDATA[task.logmsg("INFO","Replacing an ACL with the same name: "+realname);
// 
// add a value to an new attribute
work.getAttribute("neweracl").addValue(work.getAttribute("contents").getValue());
work.setAttribute("isMatched",true);]]></ConnectorScript>
                                <Parser>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input"/>
                                <AttributeMap name="Output"/>
                                <DeltaSettings>
                                    <Driver>BTree</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria/>
                                <Hooks/>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance/>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <ScriptCondition><![CDATA[var contents=work.getString("eracl");
var name=contents.substring(contents.indexOf(" name=")+7,contents.indexOf(" scope=")-1);
ret.value = (name==realname);]]></ScriptCondition>
                            <Conditions/>
                            <MatchAny>false</MatchAny>
                            <Enabled>true</Enabled>
                            <Type>0</Type>
                        </Branch>
                        <Branch name="elseAdd">
                            <Connector name="addoldACL">
                                <ConnectorMode>Script</ConnectorMode>
                                <ConnectorState>Enabled</ConnectorState>
                                <Configuration/>
                                <ConnectorScript><![CDATA[// add a value to an new attribute
work.getAttribute("neweracl").addValue(work.getAttribute("eracl").getValue());]]></ConnectorScript>
                                <Parser>
                                    <Schema name="Input">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                    <Schema name="Output">
                                        <InheritFrom>[parent]</InheritFrom>
                                    </Schema>
                                </Parser>
                                <AttributeMap name="Input"/>
                                <AttributeMap name="Output"/>
                                <DeltaSettings>
                                    <Driver>BTree</Driver>
                                </DeltaSettings>
                                <Schema name="Input">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <Schema name="Output">
                                    <InheritFrom>[parent]</InheritFrom>
                                </Schema>
                                <LinkCriteria/>
                                <Hooks/>
                                <CheckpointConfig/>
                                <SandboxConfig/>
                                <Reconnect>
                                    <InheritFrom>[parent]</InheritFrom>
                                    <ReconnectRules/>
                                </Reconnect>
                                <Operations/>
                                <PoolDefinition>
                                    <InheritFrom>[parent]</InheritFrom>
                                </PoolDefinition>
                                <PoolInstance/>
                                <InitializeOption>0</InitializeOption>
                            </Connector>
                            <Conditions/>
                            <MatchAny>false</MatchAny>
                            <Enabled>true</Enabled>
                            <Type>2</Type>
                        </Branch>
                        <Conditions/>
                        <MatchAny>false</MatchAny>
                        <Enabled>true</Enabled>
                        <Type>0</Type>
                    </Branch>
                </Loop>
                <Branch name="ifNewACL">
                    <Connector name="addnewACL">
                        <ConnectorMode>Script</ConnectorMode>
                        <ConnectorState>Enabled</ConnectorState>
                        <Configuration/>
                        <ConnectorScript><![CDATA[task.logmsg("INFO","Adding a new ACL: "+realname);
//task.logmsg("FATAL",task.getShortName()+": "+work.getAttribute("contents").getValue());
work.getAttribute("neweracl").addValue(work.getAttribute("contents").getValue());]]></ConnectorScript>
                        <Parser>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                        </Parser>
                        <AttributeMap name="Input"/>
                        <AttributeMap name="Output"/>
                        <DeltaSettings>
                            <Driver>BTree</Driver>
                        </DeltaSettings>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <LinkCriteria/>
                        <Hooks/>
                        <CheckpointConfig/>
                        <SandboxConfig/>
                        <Reconnect>
                            <InheritFrom>[parent]</InheritFrom>
                            <ReconnectRules/>
                        </Reconnect>
                        <Operations/>
                        <PoolDefinition>
                            <InheritFrom>[parent]</InheritFrom>
                        </PoolDefinition>
                        <PoolInstance/>
                        <InitializeOption>0</InitializeOption>
                    </Connector>
                    <Conditions>
                        <BranchCondition>
                            <LeftHand>isMatched</LeftHand>
                            <Operator>equals</Operator>
                            <RightHand>false</RightHand>
                            <CaseSensitive>true</CaseSensitive>
                            <MatchAny>false</MatchAny>
                        </BranchCondition>
                    </Conditions>
                    <MatchAny>false</MatchAny>
                    <Enabled>true</Enabled>
                    <Type>0</Type>
                </Branch>
                <Connector name="SaveAsBlob">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>AddOnly</ConnectorMode>
                    <ConnectorState>Passive</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[no inheritance]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="before_add">
                            <Name>before_add</Name>
                            <Script><![CDATA[//task.dumpEntry(work);
//task.dumpEntry(conn);]]></Script>
                            <Enabled>false</Enabled>
                            <DebugBreak>false</DebugBreak>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="ITIM_Update">
                    <InheritFrom>/Connectors/ITIM_Update</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>eracl</Name>
                            <Type>simple</Type>
                            <Add>false</Add>
                            <Simple>neweracl</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <AdvancedLinkMode>true</AdvancedLinkMode>
                        <Script>ret.filter = filter;</Script>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="clearNewACLs">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript>work.getAttribute("neweracl").clear();</ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportFormTemplates">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="LoadAsBlob" state="Enabled"/>
                    <Component name="ITIM_stuffin" state="Simulated"/>
                    <Component name="FolderScan" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="FolderScan">
                    <InheritFrom>system:/Connectors/ibmdi.ScriptConnector</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="includeFiles"/>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("FormTemplatesImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>fileIndex</Name>
                            <Type>simple</Type>
                            <Simple>fileIndex</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileLastModified</Name>
                            <Type>simple</Type>
                            <Simple>fileLastModified</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileName</Name>
                            <Type>simple</Type>
                            <Simple>fileName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>filePath</Name>
                            <Type>simple</Type>
                            <Simple>filePath</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="LoadAsBlob">
                    <InheritFrom>/Connectors/LoadAsBlob</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="ITIM_stuffin">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=formTemplates,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erFormTemplate)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erXML</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erformname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "erglobalid="+fileName.substring(fileName.lastIndexOf("_")+1,fileName.lastIndexOf("."));
]]></Script>
                        <LinkCriteriaItem>
                            <Key>11aa2730f24</Key>
                            <Attribute>erformname</Attribute>
                            <Operator>equals</Operator>
                            <Value>$operationID</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="modify_apply">
                            <Name>modify_apply</Name>
                            <Script><![CDATA[task.logmsg("Modifying "+work.getString("operationID"));
//task.dumpEntry(conn);
//task.dumpEntry(current);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Script>task.logmsg("Not gonna add "+work.getString("cn"));</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportLifecycleWorkflows">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="LoadAsBlob" state="Enabled"/>
                    <Component name="ITIM_stuffin" state="Simulated"/>
                    <Component name="FolderScan" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="FolderScan">
                    <InheritFrom>/Connectors/FolderScan</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("GlobalWorkflowImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="LoadAsBlob">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>operationID</Name>
                            <Type>advanced</Type>
                            <Script><![CDATA[var fileName = work.getString("fileName");
ret.value = fileName.substring(0,fileName.lastIndexOf("."));]]></Script>
                            <Simple>operationID</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="ITIM_stuffin">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=workflow,erglobalid=00000000000000000000,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erWorkflowDefinition)</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                        <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erxml</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erentitlements</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlabel</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicyitemname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicymembership</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicytarget</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpriority</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erprocessname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <LinkCriteriaItem>
                            <Key>1192a770fb8</Key>
                            <Attribute>erprocessname</Attribute>
                            <Operator>equals</Operator>
                            <Value>$operationID</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="modify_apply">
                            <Name>modify_apply</Name>
                            <Script><![CDATA[task.logmsg("Modifying "+work.getString("fileName"));
//task.dumpEntry(conn);
//task.dumpEntry(current);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Script>task.logmsg("Not gonna add "+work.getString("fileName"));</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_modify">
                            <Name>override_modify</Name>
                            <Script>task.logmsg(work.getString("contents"));</Script>
                            <Enabled>false</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportMailTemplates">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="LoadAsXML" state="Enabled"/>
                    <Component name="LoadAsCSV" state="Enabled"/>
                    <Component name="ITIM_stuffin" state="Simulated"/>
                    <Component name="FolderScan" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="FolderScan">
                    <InheritFrom>system:/Connectors/ibmdi.ScriptConnector</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="includeFiles"/>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("MailTemplatesImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>fileIndex</Name>
                            <Type>simple</Type>
                            <Simple>fileIndex</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileLastModified</Name>
                            <Type>simple</Type>
                            <Simple>fileLastModified</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileName</Name>
                            <Type>simple</Type>
                            <Simple>fileName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>filePath</Name>
                            <Type>simple</Type>
                            <Simple>filePath</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="LoadAsXML">
                    <InheritFrom>/Connectors/SaveAsXML</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ersubject</Name>
                            <Type>simple</Type>
                            <Simple>ersubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>ertext</Name>
                            <Type>simple</Type>
                            <Simple>ertext</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="LoadAsCSV">
                    <InheritFrom>/Connectors/SaveAsCSV</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Disabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="fileAwaitDataTimeout"/>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>cn</Name>
                            <Type>simple</Type>
                            <Simple>cn</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erIsReadOnly</Name>
                            <Type>simple</Type>
                            <Simple>erIsReadOnly</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSubject</Name>
                            <Type>simple</Type>
                            <Simple>erSubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erTemplateName</Name>
                            <Type>simple</Type>
                            <Simple>erTemplateName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erText</Name>
                            <Type>simple</Type>
                            <Simple>erText</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erTemplateName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersubject</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ertext</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="get_ok">
                            <Name>get_ok</Name>
                            <Script>task.dumpEntry(work);</Script>
                            <Enabled>false</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>2</InitializeOption>
                </Connector>
                <Connector name="ITIM_stuffin">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=config,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erTemplate)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erEnabled</Name>
                            <Type>simple</Type>
                            <Simple>erEnabled</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erSubject</Name>
                            <Type>simple</Type>
                            <Simple>erSubject</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erText</Name>
                            <Type>simple</Type>
                            <Simple>erText</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>erXHTML</Name>
                            <Type>simple</Type>
                            <Simple>erXHTML</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erEnabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSubject</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erText</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXHTML</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "erglobalid="+fileName.substring(fileName.lastIndexOf("_")+1,fileName.lastIndexOf("."));
]]></Script>
                        <LinkCriteriaItem>
                            <Key>11aa2730f24</Key>
                            <Attribute>cn</Attribute>
                            <Operator>equals</Operator>
                            <Value>$cn</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="modify_apply">
                            <Name>modify_apply</Name>
                            <Script><![CDATA[task.logmsg("Modifying "+work.getString("cn"));
//task.dumpEntry(conn);
//task.dumpEntry(current);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Script>task.logmsg("Not gonna add "+work.getString("cn"));</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportOperationalWorkflows">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="loadAsBlob" state="Enabled"/>
                    <Component name="createOrUpdateWorkflow" state="Simulated"/>
                    <Component name="checkService" state="Enabled"/>
                    <Component name="IfWorkflowNotLinked" state="Enabled"/>
                    <Component name="addLink" state="Enabled"/>
                    <Component name="linkWorkflow" state="Simulated"/>
                    <Component name="dump" state="Enabled"/>
                    <Component name="folderScan" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="folderScan">
                    <InheritFrom>system:/Connectors/ibmdi.ScriptConnector</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="includeFiles"/>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("WorkflowImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>fileIndex</Name>
                            <Type>simple</Type>
                            <Simple>fileIndex</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileLastModified</Name>
                            <Type>simple</Type>
                            <Simple>fileLastModified</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>fileName</Name>
                            <Type>simple</Type>
                            <Simple>fileName</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>filePath</Name>
                            <Type>simple</Type>
                            <Simple>filePath</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="loadAsBlob">
                    <InheritFrom>/Connectors/LoadAsBlob</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="debug">false</parameter>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>/Parsers/blob</InheritFrom>
                        <parameter name="attributeName">line</parameter>
                        <parameter name="characterSet"/>
                        <parameter name="csvEnableQuoting">true</parameter>
                        <parameter name="csvLogLongLines">0</parameter>
                        <parameter name="csvWriteHeader">true</parameter>
                        <parameter name="debug">false</parameter>
                        <parameter name="isnamespaceaware">false</parameter>
                        <parameter name="isvalidating">false</parameter>
                        <parameter name="omitxmldeclaration">false</parameter>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>operationID</Name>
                            <Type>advanced</Type>
                            <Script><![CDATA[var fileName = work.getString("fileName");
ret.value = fileName.substring(fileName.lastIndexOf("_")+1,fileName.lastIndexOf("."));]]></Script>
                            <Simple>operationID</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="createOrUpdateWorkflow">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=operations,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erWorkflowDefinition)</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erXML</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erprocessname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erversionid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <AdvancedLinkMode>false</AdvancedLinkMode>
                        <Script><![CDATA[ret.filter = "erglobalid="+fileName.substring(fileName.lastIndexOf("_")+1,fileName.lastIndexOf("."));
]]></Script>
                        <LinkCriteriaItem>
                            <Key>118f2496e34</Key>
                            <Attribute>erglobalid</Attribute>
                            <Operator>equals</Operator>
                            <Value>$operationID</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="modify_apply">
                            <Name>modify_apply</Name>
                            <Script><![CDATA[task.logmsg("Modifying "+work.getString("operationID"));
//task.dumpEntry(conn);
//task.dumpEntry(current);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Script>task.logmsg("Not gonna add "+work.getString("operationID"));</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Connector name="checkService">
                    <InheritFrom>/Connectors/ITIM_Service_Entries</InheritFrom>
                    <ConnectorMode>Lookup</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>cn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>departmentnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>employeestatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomConstraint</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erDefaultValue</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsReadOnly</Name>
                            <NativeSyntax>MAY/Boolean</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erOid</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erType</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraliases</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercreatedate</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpersonstatus</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ferccode</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>givenname</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>l</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mail</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>mailstop</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>manager</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>middlename</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>positionnumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstoemployeeid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>reportstopositionnbr</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>sn</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>telephonenumber</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>title</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>uid</Name>
                            <Syntax>java.lang.String</Syntax>
                            <Presence>null</Presence>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <NativeSyntax>MAY/Directory String/Attribute common to CIM and LDAP schema to provide lengthy description of a directory object entry.</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erAcl</Name>
                            <NativeSyntax>MAY/Binary</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erAttrMap</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erAuthorizationOwner</Name>
                            <NativeSyntax>MAY/DN</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCategory</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erCustomClass</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erGlobalId</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erIsDeleted</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erLastModifiedTime</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erLifecycleEnable</Name>
                            <NativeSyntax>MAY/Boolean/Flag for lifecycle operation on an entity</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erLifecycleRule</Name>
                            <NativeSyntax>MAY/Binary/Lifecycle rule data</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erObjectProfileName</Name>
                            <NativeSyntax>MUST/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erParent</Name>
                            <NativeSyntax>MAY/DN</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erProfileName</Name>
                            <NativeSyntax>MAY/Directory String/Profile name of an object</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erRdnAttr</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erSearchAttr</Name>
                            <NativeSyntax>MAY/Directory String</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erXML</Name>
                            <NativeSyntax>MAY/Binary</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>eraccountname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erproperties</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erprotocolmappings</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erserviceproviderfactory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectClass</Name>
                            <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ou</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
                <Branch name="IfWorkflowNotLinked">
                    <Connector name="addLink">
                        <ConnectorMode>Script</ConnectorMode>
                        <ConnectorState>Enabled</ConnectorState>
                        <Configuration/>
                        <ConnectorScript>// not yet implemented</ConnectorScript>
                        <Parser>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                        </Parser>
                        <AttributeMap name="Input"/>
                        <AttributeMap name="Output"/>
                        <DeltaSettings>
                            <Driver>BTree</Driver>
                        </DeltaSettings>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <LinkCriteria/>
                        <Hooks/>
                        <CheckpointConfig/>
                        <SandboxConfig/>
                        <Reconnect>
                            <InheritFrom>[parent]</InheritFrom>
                            <ReconnectRules/>
                        </Reconnect>
                        <Operations/>
                        <PoolDefinition>
                            <InheritFrom>[parent]</InheritFrom>
                        </PoolDefinition>
                        <PoolInstance/>
                        <InitializeOption>0</InitializeOption>
                    </Connector>
                    <Connector name="linkWorkflow">
                        <InheritFrom>/Connectors/ITIM_Service_Entries</InheritFrom>
                        <ConnectorMode>Update</ConnectorMode>
                        <ConnectorState>Enabled</ConnectorState>
                        <Configuration>
                            <InheritFrom>[parent]</InheritFrom>
                        </Configuration>
                        <Parser>
                            <InheritFrom>[parent]</InheritFrom>
                            <Schema name="Input">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                            <Schema name="Output">
                                <InheritFrom>[parent]</InheritFrom>
                            </Schema>
                        </Parser>
                        <AttributeMap name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </AttributeMap>
                        <AttributeMap name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                            <AttributeMapItem>
                                <Name>erXML</Name>
                                <Type>simple</Type>
                                <Script>ret.value = work.getAttribute("erXML");</Script>
                            </AttributeMapItem>
                        </AttributeMap>
                        <DeltaSettings>
                            <WhenToCommit>After every database operation</WhenToCommit>
                            <Driver>CloudScape</Driver>
                        </DeltaSettings>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                            <SchemaItem>
                                <Name>$dn</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>cn</Name>
                                <Syntax>java.lang.String</Syntax>
                                <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>departmentnumber</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>description</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>employeenumber</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>employeestatus</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erCustomConstraint</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erDefaultValue</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erIsReadOnly</Name>
                                <NativeSyntax>MAY/Boolean</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erOid</Name>
                                <NativeSyntax>MUST/Directory String</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erType</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>eraliases</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ercreatedate</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erglobalid</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erlastmodifiedtime</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erparent</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erpersonstatus</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ferccode</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>givenname</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>l</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>mail</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>mailstop</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>manager</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>middlename</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>objectClass</Name>
                                <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>objectclass</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>positionnumber</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>reportstoemployeeid</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>reportstopositionnbr</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>sn</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>telephonenumber</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>title</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>uid</Name>
                                <Syntax>java.lang.String</Syntax>
                                <Presence>null</Presence>
                            </SchemaItem>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                            <SchemaItem>
                                <Name>$dn</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>description</Name>
                                <NativeSyntax>MAY/Directory String/Attribute common to CIM and LDAP schema to provide lengthy description of a directory object entry.</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erAcl</Name>
                                <NativeSyntax>MAY/Binary</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erAttrMap</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erAuthorizationOwner</Name>
                                <NativeSyntax>MAY/DN</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erCategory</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erCustomClass</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erGlobalId</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erIsDeleted</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erLastModifiedTime</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erLifecycleEnable</Name>
                                <NativeSyntax>MAY/Boolean/Flag for lifecycle operation on an entity</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erLifecycleRule</Name>
                                <NativeSyntax>MAY/Binary/Lifecycle rule data</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erObjectProfileName</Name>
                                <NativeSyntax>MUST/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erParent</Name>
                                <NativeSyntax>MAY/DN</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erProfileName</Name>
                                <NativeSyntax>MAY/Directory String/Profile name of an object</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erRdnAttr</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erSearchAttr</Name>
                                <NativeSyntax>MAY/Directory String</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erXML</Name>
                                <NativeSyntax>MAY/Binary</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>eraccountclass</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>eraccountname</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erattrmap</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ercategory</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ercustomclass</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erobjectprofilename</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erproperties</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erprotocolmappings</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>errdnattr</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ersearchattr</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>erserviceproviderfactory</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>objectClass</Name>
                                <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>objectclass</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                            <SchemaItem>
                                <Name>ou</Name>
                                <Syntax>java.lang.String</Syntax>
                            </SchemaItem>
                        </Schema>
                        <LinkCriteria>
                            <InheritFrom>[parent]</InheritFrom>
                        </LinkCriteria>
                        <Hooks>
                            <InheritFrom>[parent]</InheritFrom>
                        </Hooks>
                        <CheckpointConfig/>
                        <SandboxConfig/>
                        <Reconnect>
                            <InheritFrom>[parent]</InheritFrom>
                            <ReconnectRules/>
                        </Reconnect>
                        <Operations/>
                        <PoolDefinition>
                            <InheritFrom>[parent]</InheritFrom>
                        </PoolDefinition>
                        <PoolInstance>
                            <Enabled>false</Enabled>
                            <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                        </PoolInstance>
                        <InitializeOption>0</InitializeOption>
                    </Connector>
                    <Conditions/>
                    <MatchAny>false</MatchAny>
                    <Enabled>true</Enabled>
                    <Type>0</Type>
                </Branch>
                <Connector name="dump">
                    <ConnectorMode>Script</ConnectorMode>
                    <ConnectorState>Disabled</ConnectorState>
                    <Configuration/>
                    <ConnectorScript><![CDATA[//task.dumpEntry(work);
task.logmsg("contents="+work.getString("contents"));]]></ConnectorScript>
                    <Parser>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input"/>
                    <AttributeMap name="Output"/>
                    <DeltaSettings>
                        <Driver>BTree</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria/>
                    <Hooks/>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance/>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
        <AssemblyLine name="ImportProvisioningPolicies">
            <Settings>
                <parameter name="ALPoolSettingsDialog">showALPoolSettings</parameter>
                <parameter name="automapattributes">false</parameter>
                <parameter name="createTombstones">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="includeGlobalPrologs">true</parameter>
                <parameter name="nullBehaviorDialog">showNullBehavior</parameter>
            </Settings>
            <Hooks/>
            <CheckpointConfig/>
            <SandboxConfig/>
            <SimulationConfig>
                <SimulationStates>
                    <Component name="LoadAsBlob" state="Enabled"/>
                    <Component name="ITIM_stuffin" state="Simulated"/>
                    <Component name="FolderScan" state="Enabled"/>
                </SimulationStates>
                <ProxySettings/>
            </SimulationConfig>
            <LogConfig/>
            <ContainerEF name="EntryFeedContainer">
                <Connector name="FolderScan">
                    <InheritFrom>/Connectors/FolderScan</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="includePrologs">getExternalProperty</parameter>
                        <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("PPImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>fileIndex</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileLastModified</Name>
                            <Syntax>java.lang.Double</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>fileName</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>filePath</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerEF>
            <ContainerDF name="DataFlowContainer">
                <Connector name="LoadAsBlob">
                    <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
                    <ConnectorMode>Iterator</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>contents</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                        <AttributeMapItem>
                            <Name>operationID</Name>
                            <Type>advanced</Type>
                            <Script><![CDATA[var fileName = work.getString("fileName");
ret.value = fileName.substring(fileName.lastIndexOf("_")+1,fileName.lastIndexOf("."));]]></Script>
                            <Simple>operationID</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>contents</Name>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>3</InitializeOption>
                </Connector>
                <Connector name="ITIM_stuffin">
                    <InheritFrom>/Connectors/ITIM_objectProfile</InheritFrom>
                    <ConnectorMode>Update</ConnectorMode>
                    <ConnectorState>Enabled</ConnectorState>
                    <Configuration>
                        <InheritFrom>[parent]</InheritFrom>
                        <parameter name="ldapSearchBase">@SUBSTITUTEou=policies,erglobalid=00000000000000000000,{property.ITIM:LDAP.SearchBase}</parameter>
                        <parameter name="ldapSearchFilter">(objectclass=erProvisioningPolicy)</parameter>
                        <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                    </Configuration>
                    <Parser>
                        <InheritFrom>[parent]</InheritFrom>
                        <Schema name="Input">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                        <Schema name="Output">
                            <InheritFrom>[parent]</InheritFrom>
                        </Schema>
                    </Parser>
                    <AttributeMap name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </AttributeMap>
                    <AttributeMap name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <AttributeMapItem>
                            <Name>erentitlements</Name>
                            <Type>simple</Type>
                            <Simple>contents</Simple>
                        </AttributeMapItem>
                    </AttributeMap>
                    <DeltaSettings>
                        <WhenToCommit>After every database operation</WhenToCommit>
                        <Driver>CloudScape</Driver>
                    </DeltaSettings>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erattrmap</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercategory</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ercustomclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlifecyclerule</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erobjectprofilename</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>errdnattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>ersearchattr</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erxml</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                        <SchemaItem>
                            <Name>$dn</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>description</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erenabled</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erentitlements</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erglobalid</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlabel</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erlastmodifiedtime</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erparent</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicyitemname</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicymembership</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpolicytarget</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>erpriority</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                        <SchemaItem>
                            <Name>objectclass</Name>
                            <Syntax>java.lang.String</Syntax>
                        </SchemaItem>
                    </Schema>
                    <LinkCriteria>
                        <InheritFrom>[parent]</InheritFrom>
                        <LinkCriteriaItem>
                            <Key>1192a770fb8</Key>
                            <Attribute>erglobalid</Attribute>
                            <Operator>equals</Operator>
                            <Value>$operationID</Value>
                        </LinkCriteriaItem>
                    </LinkCriteria>
                    <Hooks>
                        <InheritFrom>[parent]</InheritFrom>
                        <Hook name="modify_apply">
                            <Name>modify_apply</Name>
                            <Script><![CDATA[task.logmsg("Modifying "+work.getString("operationID"));
//task.dumpEntry(conn);
//task.dumpEntry(current);]]></Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_add">
                            <Name>override_add</Name>
                            <Script>task.logmsg("Not gonna add "+work.getString("operationID"));</Script>
                            <Enabled>true</Enabled>
                        </Hook>
                        <Hook name="override_modify">
                            <Name>override_modify</Name>
                            <Script>task.logmsg(work.getString("contents"));</Script>
                            <Enabled>false</Enabled>
                        </Hook>
                    </Hooks>
                    <CheckpointConfig/>
                    <SandboxConfig/>
                    <Reconnect>
                        <InheritFrom>[parent]</InheritFrom>
                        <ReconnectRules/>
                    </Reconnect>
                    <Operations/>
                    <PoolDefinition>
                        <InheritFrom>[parent]</InheritFrom>
                    </PoolDefinition>
                    <PoolInstance>
                        <Enabled>false</Enabled>
                        <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
                    </PoolInstance>
                    <InitializeOption>0</InitializeOption>
                </Connector>
            </ContainerDF>
            <ThreadOptions/>
            <Operations/>
            <InitParams>
                <Schema name="AssemblyLineInitParams"/>
            </InitParams>
        </AssemblyLine>
    </Folder>
    <Folder name="Connectors">
        <Connector name="FolderScan">
            <InheritFrom>system:/Connectors/ibmdi.ScriptConnector</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
                <parameter name="includeFiles"/>
                <parameter name="script"><![CDATA[// FileScan Connector
var vrs = "v.1.0";
var baseDir = getExternalProperty("WorkflowImportFolder");
var extension = ".xml";

// Here comes the initialization code

main.logmsg("DEBUG","** FileScan Connector " + vrs + " initializing");

var filePath = [];
var fileName = [];
var lastModList = [];
var fileIndex = 0;

if (baseDir == null)
  baseDir = "./"; // Default to solution-directory

main.logmsg("** FileScan Connector: Scanning specified directory :\"" + baseDir + "\"");

//scanDirectory(baseDir); //works the current folder and the subfolders
listFiles(baseDir); // does not go into subfolders

main.logmsg("** FileScan Connector: " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + new java.util.Date() + " ** " + filePath.length + " file(s) found");
//java.lang.System.out.println("** FileScan Connector: " + filePath);
//java.lang.System.out.println("** FileScan Connector: " + lastModList);



//===  Function definitions ===

function scanDirectory(fName) {
  var fObj = new java.io.File(fName);
  if (fObj == null)
    throw "Scan directory/file (" + fName + ") not found"
  else
  if (fObj.isFile() && contents[i].getName().endsWith(extension)) {
    fileIndex++;
    filePath[fileIndex] = fObj.getCanonicalPath()
    fileName[fileIndex] = fObj.getName();
    lastModList[fileIndex] = fObj.lastModified();
  } else
  if (fObj.isDirectory()) {
    var contents = fObj.listFiles();
    if (contents != null)
      for (var i = 0; i < contents.length; i++)
        getScanList(contents[i]);
  }
}

function listFiles(fName) {
  var fObj = new java.io.File(fName);
  var contents = fObj.listFiles();
  if (contents != null){
    for (var i = 0; i < contents.length; i++){
      if (contents[i].isFile() && contents[i].getName().endsWith(extension)) {
        filePath[fileIndex] = contents[i].getCanonicalPath()
        fileName[fileIndex] = contents[i].getName();
        lastModList[fileIndex] = contents[i].lastModified();
        fileIndex++;
      }
//      if (contents[i].isDirectory()) {
//        main.logmsg("** FileScan Connector: Directory" + fObj.getName());
//        listFiles(contents[i]);
//      }
    }
  }
}

function selectEntries()
{
  fileIndex = 0;
}

function getNextEntry ()
{

  if (fileIndex >= filePath.length) {
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }

  entry.setAttribute("filePath", filePath[fileIndex]);
  entry.setAttribute("fileName", fileName[fileIndex]);
  entry.setAttribute("fileLastModified", lastModList[fileIndex]);
  entry.setAttribute("fileIndex", fileIndex);

  fileIndex++;
}
]]></parameter>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>fileIndex</Name>
                    <Type>simple</Type>
                    <Simple>fileIndex</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>fileLastModified</Name>
                    <Type>simple</Type>
                    <Simple>fileLastModified</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>fileName</Name>
                    <Type>simple</Type>
                    <Simple>fileName</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>filePath</Name>
                    <Type>simple</Type>
                    <Simple>filePath</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>fileIndex</Name>
                    <Syntax>java.lang.Double</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>fileLastModified</Name>
                    <Syntax>java.lang.Double</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>fileName</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>filePath</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="ITIM_Iterator">
            <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <UserComment/>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="automapADPassword">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="ldapAddAttr">false</parameter>
                <parameter name="ldapAuthenticationMethod">Simple</parameter>
                <parameter name="ldapPageSize">0</parameter>
                <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                <parameter name="ldapReferrals">follow</parameter>
                <parameter name="ldapSearchBase">@SUBSTITUTE{property.ITIM:LDAP.SearchBase}</parameter>
                <parameter name="ldapSearchFilter">(objectclass=inetOrgPerson)</parameter>
                <parameter name="ldapSearchScope">subtree</parameter>
                <parameter name="ldapSizeLimit">0</parameter>
                <parameter name="ldapTimeLimit">0</parameter>
                <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                <parameter name="ldapUseSSL">false</parameter>
                <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                <parameter name="ldapVLVPageSize">0</parameter>
                <parameter name="simulateRename">true</parameter>
            </Configuration>
            <ComputeChanges>true</ComputeChanges>
            <DeltaBehavior>0</DeltaBehavior>
            <DeltaStrict>true</DeltaStrict>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>$dn</Name>
                    <Type>simple</Type>
                    <Simple>$dn</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>cn</Name>
                    <Type>simple</Type>
                    <Simple>cn</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>departmentnumber</Name>
                    <Type>simple</Type>
                    <Simple>departmentnumber</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>cn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>departmentnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>description</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeestatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCustomConstraint</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erDefaultValue</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erIsReadOnly</Name>
                    <NativeSyntax>MAY/Boolean</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erOid</Name>
                    <NativeSyntax>MUST/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erType</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraliases</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercreatedate</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erglobalid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erlastmodifiedtime</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erparent</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erpersonstatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ferccode</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>givenname</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>l</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mail</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mailstop</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>manager</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>middlename</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectClass</Name>
                    <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>positionnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstoemployeeid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstopositionnbr</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>sn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>telephonenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>title</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>uid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="autoreconnect">true</parameter>
                <parameter name="initreconnect">false</parameter>
                <parameter name="numberOfRetries">1</parameter>
                <parameter name="retryDelay">10</parameter>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance/>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="ITIM_Lookup">
            <InheritFrom>/Connectors/ITIM_Iterator</InheritFrom>
            <ConnectorMode>Lookup</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="ldapSearchBase">@SUBSTITUTE{property.ITIM:LDAP.SearchBase}</parameter>
            </Configuration>
            <ComputeChanges>true</ComputeChanges>
            <DeltaBehavior>0</DeltaBehavior>
            <DeltaStrict>true</DeltaStrict>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[no inheritance]</InheritFrom>
                <AttributeMapItem>
                    <Name>foundDN</Name>
                    <Type>simple</Type>
                    <Enabled>true</Enabled>
                    <Add>true</Add>
                    <Modify>true</Modify>
                    <Simple>$dn</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>cn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>departmentnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>description</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeestatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCustomConstraint</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erDefaultValue</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erIsReadOnly</Name>
                    <NativeSyntax>MAY/Boolean</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erOid</Name>
                    <NativeSyntax>MUST/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erType</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraliases</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercreatedate</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erglobalid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erlastmodifiedtime</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erparent</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erpersonstatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ferccode</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>givenname</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>l</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mail</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mailstop</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>manager</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>middlename</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectClass</Name>
                    <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>positionnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstoemployeeid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstopositionnbr</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>sn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>telephonenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>title</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>uid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
                <LinkCriteriaItem>
                    <Key>10fa67f62a0</Key>
                    <Attribute>eraliases</Attribute>
                    <Operator>equals</Operator>
                    <Value>$lookupID</Value>
                </LinkCriteriaItem>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
                <Hook name="before_lookup">
                    <Name>before_lookup</Name>
                    <Script><![CDATA[var manager = work.getString("reportstoemployeeid");
task.logmsg(thisConnector.getName()+": Looking up " + manager);
if (manager == null || manager == '')
    system.ignoreEntry();
]]></Script>
                    <Enabled>false</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
                <Hook name="default_ok">
                    <Name>default_ok</Name>
                    <Script><![CDATA[//task.logmsg("ITIM_Manager_Lookup: Default Success");
//system.dumpEntry(work);]]></Script>
                    <Enabled>true</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
                <Hook name="lookup_multiple">
                    <Name>lookup_multiple</Name>
                    <Script><![CDATA[task.logmsg(thisConnector.getName()+": Mulitple entries found for  " + work.getString("lookupID"));
system.skipEntry();]]></Script>
                    <Enabled>true</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
                <Hook name="lookup_nomatch">
                    <Name>lookup_nomatch</Name>
                    <Script><![CDATA[task.logmsg(thisConnector.getName()+": No Match for " + work.getString("lookupID"));
system.skipEntry();]]></Script>
                    <Enabled>true</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance/>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="ITIM_Service_Entries">
            <InheritFrom>/Connectors/ITIM_Update</InheritFrom>
            <ConnectorMode>AddOnly</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="ldapSearchBase">@SUBSTITUTEou=serviceProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                <parameter name="ldapSearchFilter">@SUBSTITUTE(objectclass=*)</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>erXML</Name>
                    <Type>simple</Type>
                    <Simple>erXML</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>cn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>departmentnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>description</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeestatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCustomConstraint</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erDefaultValue</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erIsReadOnly</Name>
                    <NativeSyntax>MAY/Boolean</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erOid</Name>
                    <NativeSyntax>MUST/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erType</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraliases</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercreatedate</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erglobalid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erlastmodifiedtime</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erparent</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erpersonstatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ferccode</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>givenname</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>l</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mail</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mailstop</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>manager</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>middlename</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectClass</Name>
                    <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>positionnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstoemployeeid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstopositionnbr</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>sn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>telephonenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>title</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>uid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>description</Name>
                    <NativeSyntax>MAY/Directory String/Attribute common to CIM and LDAP schema to provide lengthy description of a directory object entry.</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erAcl</Name>
                    <NativeSyntax>MAY/Binary</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erAttrMap</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erAuthorizationOwner</Name>
                    <NativeSyntax>MAY/DN</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCategory</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCustomClass</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erGlobalId</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erIsDeleted</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erLastModifiedTime</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erLifecycleEnable</Name>
                    <NativeSyntax>MAY/Boolean/Flag for lifecycle operation on an entity</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erLifecycleRule</Name>
                    <NativeSyntax>MAY/Binary/Lifecycle rule data</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erObjectProfileName</Name>
                    <NativeSyntax>MUST/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erParent</Name>
                    <NativeSyntax>MAY/DN</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erProfileName</Name>
                    <NativeSyntax>MAY/Directory String/Profile name of an object</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erRdnAttr</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erSearchAttr</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erXML</Name>
                    <NativeSyntax>MAY/Binary</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraccountclass</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraccountname</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erattrmap</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercategory</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercustomclass</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erobjectprofilename</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erproperties</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erprotocolmappings</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>errdnattr</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ersearchattr</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erserviceproviderfactory</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectClass</Name>
                    <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ou</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
                <LinkCriteriaItem>
                    <Key>1275a32270f</Key>
                    <Attribute>$dn</Attribute>
                    <Operator>equals</Operator>
                    <Value>$serviceprofiledn</Value>
                </LinkCriteriaItem>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
                <Hook name="modify_apply">
                    <Name>modify_apply</Name>
                    <Script><![CDATA[task.dumpEntry(conn);
task.dumpEntry(current);
system.skipEntry();]]></Script>
                    <Enabled>false</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="ITIM_Update">
            <InheritFrom>/Connectors/ITIM_Iterator</InheritFrom>
            <ConnectorMode>Update</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>cn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <NativeSyntax>MAY/String/This is the X.500 commonName attribute, which contains a name of an object.  If the object corresponds to a person, it is typically the persons full name.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>departmentnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>description</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>employeestatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erCustomConstraint</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erDefaultValue</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erIsReadOnly</Name>
                    <NativeSyntax>MAY/Boolean</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erOid</Name>
                    <NativeSyntax>MUST/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erType</Name>
                    <NativeSyntax>MAY/Directory String</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>eraliases</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercreatedate</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erglobalid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erlastmodifiedtime</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erparent</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>erpersonstatus</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>ferccode</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>givenname</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>l</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mail</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>mailstop</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>manager</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>middlename</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectClass</Name>
                    <NativeSyntax>MUST/OID/The values of the objectClass attribute describe the kind of object which an entry represents.</NativeSyntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>positionnumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstoemployeeid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>reportstopositionnbr</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>sn</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>telephonenumber</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>title</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
                <SchemaItem>
                    <Name>uid</Name>
                    <Syntax>java.lang.String</Syntax>
                    <Presence>null</Presence>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="ITIM_objectProfile">
            <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <UserComment/>
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <parameter name="automapADPassword">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="ldapAddAttr">false</parameter>
                <parameter name="ldapAuthenticationMethod">Simple</parameter>
                <parameter name="ldapPageSize">0</parameter>
                <parameter name="ldapPassword">@SUBSTITUTE{property.ITIM:LDAP.Password}</parameter>
                <parameter name="ldapReferrals">follow</parameter>
                <parameter name="ldapSearchBase">@SUBSTITUTEou=objectProfile,ou=itim,{property.ITIM:LDAP.SearchBase}</parameter>
                <parameter name="ldapSearchFilter">(objectclass=erObjectProfile)</parameter>
                <parameter name="ldapSearchScope">subtree</parameter>
                <parameter name="ldapSizeLimit">0</parameter>
                <parameter name="ldapTimeLimit">0</parameter>
                <parameter name="ldapUrl">@SUBSTITUTE{property.ITIM:LDAP.Url}</parameter>
                <parameter name="ldapUseSSL">false</parameter>
                <parameter name="ldapUsername">@SUBSTITUTE{property.ITIM:LDAP.Username}</parameter>
                <parameter name="ldapVLVPageSize">0</parameter>
                <parameter name="simulateRename">true</parameter>
            </Configuration>
            <ComputeChanges>true</ComputeChanges>
            <DeltaBehavior>0</DeltaBehavior>
            <DeltaStrict>true</DeltaStrict>
            <Parser>
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <AttributeMapItem>
                    <Name>erCategory</Name>
                    <Type>simple</Type>
                    <Simple>erCategory</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erXML</Name>
                    <Type>simple</Type>
                    <Simple>erXML</Simple>
                    <NullBehavior>Delete</NullBehavior>
                    <NullDefinition>EmptyString</NullDefinition>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erobjectprofilename</Name>
                    <Type>simple</Type>
                    <Simple>erobjectprofilename</Simple>
                </AttributeMapItem>
                <NullBehavior>Empty String</NullBehavior>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <SchemaItem>
                    <Name>$dn</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erattrmap</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercategory</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ercustomclass</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erlifecyclerule</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erobjectprofilename</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>errdnattr</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ersearchattr</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>erxml</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>objectclass</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <AdvancedLinkMode>false</AdvancedLinkMode>
                <Script><![CDATA[ret.filter = "";
]]></Script>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <Hook name="default_ok">
                    <Name>default_ok</Name>
                    <Script><![CDATA[//task.logmsg(thisConnector.getName()+": Default Success");
//system.dumpEntry(work);]]></Script>
                    <Enabled>false</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
                <Hook name="lookup_multiple">
                    <Name>lookup_multiple</Name>
                    <Script>task.logmsg("error",thisConnector.getName()+": Mulitple entries found for " + work.getString("lookupemployeeid"));</Script>
                    <Enabled>true</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
                <Hook name="lookup_nomatch">
                    <Name>lookup_nomatch</Name>
                    <Script><![CDATA[task.logmsg("debug",thisConnector.getName()+": On No Match for " + work.getString("lookupemployeeid"));
//system.skipEntry();]]></Script>
                    <Enabled>true</Enabled>
                    <DebugBreak>false</DebugBreak>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>system:/Connectors/ibmdi.LDAP</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="LoadAsBlob">
            <InheritFrom>/Connectors/SaveAsBlob</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="filePath">@SUBSTITUTE{work.filePath}</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>contents</Name>
                    <Type>simple</Type>
                    <Simple>contents</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>operationID</Name>
                    <Type>advanced</Type>
                    <Script><![CDATA[var fileName = work.getString("fileName");
ret.value = fileName.substring(0,fileName.lastIndexOf("."));]]></Script>
                    <Simple>operationID</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>contents</Name>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>contents</Name>
                </SchemaItem>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="LoadAsCSV">
            <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
                <parameter name="filePath">F:\Data\ITIM\EMS Services List_PROD.csv</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>system:/Parsers/ibmdi.CSV</InheritFrom>
                <parameter name="characterSet"/>
                <parameter name="csvColumnSeparator">,</parameter>
                <parameter name="csvEnableQuoting">true</parameter>
                <parameter name="csvLogLongLines">0</parameter>
                <parameter name="csvWriteHeader">true</parameter>
                <parameter name="debug">false</parameter>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>AppRole recon time</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>AppRoles Described</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Application</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Application Administrator</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Asset Approvers</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Asset Owner</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Escalation for App Admin</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>FERC Code</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Query type</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Requires SOD Check</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Resource Type</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ResourceName1</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>ResourceName2</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Sage App DB Name</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Sage DB</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Server Name</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>Staff Role</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>TIM Service Name</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>User Accounts recon time</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
                <SchemaItem>
                    <Name>User Supporting recon time</Name>
                    <Syntax>java.lang.String</Syntax>
                </SchemaItem>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance/>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="LoadAsXML">
            <InheritFrom>/Connectors/SaveAsXML</InheritFrom>
            <ConnectorMode>Iterator</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="filePath">F:\Data\ITIM\ITIM_erADAccount_BooleanValues.xml</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="xmlRootTag">ITIMEntry</parameter>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="SaveAsBlob">
            <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
            <ConnectorMode>AddOnly</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>/Parsers/blob</InheritFrom>
                <parameter name="attributeName">erdata</parameter>
                <parameter name="characterSet"/>
                <parameter name="csvColumnSeparator">,</parameter>
                <parameter name="csvColumns">erXML</parameter>
                <parameter name="csvEnableQuoting">false</parameter>
                <parameter name="csvLogLongLines">0</parameter>
                <parameter name="csvWriteHeader">false</parameter>
                <parameter name="debug">false</parameter>
                <parameter name="isnamespaceaware">false</parameter>
                <parameter name="isvalidating">false</parameter>
                <parameter name="omitxmldeclaration">false</parameter>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[no inheritance]</InheritFrom>
                <AttributeMapItem>
                    <Name>contents</Name>
                    <Type>simple</Type>
                    <Simple>contents</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <SchemaItem>
                    <Name>contents</Name>
                </SchemaItem>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>3</InitializeOption>
        </Connector>
        <Connector name="SaveAsCSV">
            <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
            <ConnectorMode>AddOnly</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>system:/Parsers/ibmdi.CSV</InheritFrom>
                <parameter name="characterSet"/>
                <parameter name="csvColumnSeparator">,</parameter>
                <parameter name="csvColumns"/>
                <parameter name="csvEnableQuoting">true</parameter>
                <parameter name="csvLogLongLines">0</parameter>
                <parameter name="csvWriteHeader">true</parameter>
                <parameter name="debug">false</parameter>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>*</Name>
                    <Type>simple</Type>
                    <Simple>*</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
                <Hook name="before_initialize">
                    <Name>before_initialize</Name>
                    <Script><![CDATA[var name="f:\\Data\\ITIM\\";
var ext=".csv";
var i=0;
//mmmmm ...obfuscation...
while (((new java.io.File(fileName=name+(i++)+ext)).exists())){}
SaveContents.connector.setParam("filePath",fileName);
task.logmsg("INFO","Saving snapshot to "+fileName);]]></Script>
                    <Enabled>false</Enabled>
                </Hook>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
                <Enabled>false</Enabled>
                <MinPoolSize>0</MinPoolSize>
                <PurgeInterval>0</PurgeInterval>
                <InitializeAttempts>1</InitializeAttempts>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>0</InitializeOption>
        </Connector>
        <Connector name="SaveAsXML">
            <InheritFrom>system:/Connectors/ibmdi.FileSystem</InheritFrom>
            <ConnectorMode>AddOnly</ConnectorMode>
            <ConnectorState>Enabled</ConnectorState>
            <Configuration>
                <InheritFrom>[parent]</InheritFrom>
                <parameter name="debug">false</parameter>
            </Configuration>
            <Parser>
                <InheritFrom>system:/Parsers/ibmdi.XML</InheritFrom>
                <parameter name="debug">false</parameter>
                <parameter name="isnamespaceaware">false</parameter>
                <parameter name="isvalidating">false</parameter>
                <parameter name="omitxmldeclaration">true</parameter>
                <parameter name="xmlEntryTag">entry</parameter>
                <parameter name="xmlRootTag">MailTemplate</parameter>
                <parameter name="xmlValueTag">value</parameter>
                <Schema name="Input">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
                <Schema name="Output">
                    <InheritFrom>[parent]</InheritFrom>
                </Schema>
            </Parser>
            <AttributeMap name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </AttributeMap>
            <AttributeMap name="Output">
                <InheritFrom>[parent]</InheritFrom>
                <AttributeMapItem>
                    <Name>cn</Name>
                    <Type>simple</Type>
                    <Simple>cn</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erEnabled</Name>
                    <Type>simple</Type>
                    <Simple>erEnabled</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erIsReadOnly</Name>
                    <Type>simple</Type>
                    <Simple>erIsReadOnly</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erTemplateName</Name>
                    <Type>simple</Type>
                    <Simple>erTemplateName</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>erXHTML</Name>
                    <Type>simple</Type>
                    <Simple>erXHTML</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>ersubject</Name>
                    <Type>simple</Type>
                    <Simple>ersubject</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>ertext</Name>
                    <Type>simple</Type>
                    <Simple>ertext</Simple>
                </AttributeMapItem>
                <AttributeMapItem>
                    <Name>objectclass</Name>
                    <Type>simple</Type>
                    <Simple>objectclass</Simple>
                </AttributeMapItem>
            </AttributeMap>
            <DeltaSettings>
                <WhenToCommit>After every database operation</WhenToCommit>
                <Driver>CloudScape</Driver>
            </DeltaSettings>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <LinkCriteria>
                <InheritFrom>[parent]</InheritFrom>
            </LinkCriteria>
            <Hooks>
                <InheritFrom>[parent]</InheritFrom>
            </Hooks>
            <CheckpointConfig/>
            <SandboxConfig/>
            <Reconnect>
                <InheritFrom>[parent]</InheritFrom>
                <ReconnectRules/>
            </Reconnect>
            <Operations/>
            <PoolDefinition>
                <InheritFrom>[parent]</InheritFrom>
            </PoolDefinition>
            <PoolInstance>
                <Enabled>false</Enabled>
                <ExhaustedPoolBehavior>Wait</ExhaustedPoolBehavior>
            </PoolInstance>
            <InitializeOption>2</InitializeOption>
        </Connector>
    </Folder>
    <Folder name="Parsers">
        <Parser name="blob">
            <InheritFrom>system:/Parsers/ibmdi.ScriptParser</InheritFrom>
            <parameter name="characterSet"/>
            <parameter name="debug">false</parameter>
            <parameter name="script"><![CDATA[//
// This is a simple parser that writes and returns all lines to/from the input stream.
//

// write to file
function writeEntry () { out.write(entry.getString("contents")); }

// read from file line by line, replacing endlines
function readEntryLinebyLineCRLF () {
  var lines="";
  str=inp.readLine();
  // if already read everything
  if (str == null){
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }
//  do {lines+=str+"\r\n"} while ((str = inp.readLine())!=null);
//  lines=lines.substring(0,lines.length()-2);
  entry.setAttribute ("contents", lines);
  result.setStatus (1);
}

// read from file using buffered reads and respecting line ends
function readEntry () {
  var buffer = [""];
  var cbuf = new char[1024];
  var status = inp.read(cbuf,0,1024);
  // if already read everything
  if (status == -1){
    result.setStatus (0);
    result.setMessage ("End of input");
    return;
  }
  while(status == 1024){
//    main.logmsg("spitting --"+cbuf.join("")+"--");
    buffer.push(cbuf.join(""));
    status = inp.read(cbuf,0,1024);
  }
//    main.logmsg("spisdtting --"+cbuf.join("").substring(0,status)+"--");
  buffer.push(cbuf.join("").substring(0,status));
  entry.setAttribute("contents", buffer.join(""));
//  main.logmsg(entry.getString("contents"));
  result.setStatus (1);
}
]]></parameter>
            <Schema name="Input">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
            <Schema name="Output">
                <InheritFrom>[parent]</InheritFrom>
            </Schema>
        </Parser>
    </Folder>
    <Folder name="Scripts">
        <Script name="buildStats">
            <parameter name="autoInclude">true</parameter>
            <parameter name="includeFiles"/>
            <parameter name="script"><![CDATA[// Create a compact statistics line
function buildStats(s)
{
 return (s.get>0?"Get:"+s.get+" ":"")+(s.lookup>0?"Lookup:"+s.lookup+" ":"")+(s.add>0?"Add:"+s.add+" ":"")+(s.del>0?"Delete:"+s.del+" ":"")+
  (s.ignore>0?"Ignore: "+s.ignore+" ":"")+(s.skip>0?"Skip: "+s.skip+" ":"")+(s.nochange>0?"Nochange: "+s.nochange+" ":"")+
  (s.err>0?"Errors: "+s.err+" ":"");
}]]></parameter>
        </Script>
        <Script name="getExternalProperty">
            <parameter name="autoInclude">true</parameter>
            <parameter name="includeFiles"/>
            <parameter name="script"><![CDATA[function getExternalProperty( propname )
{
  try{
    return ( main.getMetamergeConfig().getExternalProperties().getParameter( propname ) );
  }catch(exc){
    errorHandler("Error Getting External Property - " + exc);
  }
}
]]></parameter>
        </Script>
    </Folder>
    <JavaLibraries/>
    <JavaProperties/>
    <Folder name="Includes"/>
    <Folder name="Config">
        <LogConfig name="Logging"/>
        <InstanceProperties name="AutoStart">
            <AutoStart/>
        </InstanceProperties>
        <TombstonesConfig name="Tombstones"/>
        <SolutionInterface name="SolutionInterface">
            <ModTime>1462548669878</ModTime>
            <InstanceID>ITIM PowerTools</InstanceID>
            <enabled>true</enabled>
        </SolutionInterface>
    </Folder>
    <Folder name="Functions"/>
    <Folder name="AttributeMaps"/>
    <Properties name="Properties">
        <Stores>
            <PropertyStore name="Solution-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Solution-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Global-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">Global-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="System-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collectionType">System-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="ITDI PowerTools">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/ITDI PowerTools.properties</parameter>
                    <parameter name="collectionType">ITDI PowerTools</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="PowerTools">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/PowerTools.properties</parameter>
                    <parameter name="collectionType">PowerTools</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="Java-Properties">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/PowerTools.properties</parameter>
                    <parameter name="collectionType">Java-Properties</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="ITIM">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="autorewrite">false</parameter>
                    <parameter name="collection">F:\ITDI_Config\Properties\ITIM_Config.properties</parameter>
                    <parameter name="collectionType">User-Defined</parameter>
                    <parameter name="debug">false</parameter>
                    <parameter name="encryption">false</parameter>
                    <parameter name="password">BlowFish32</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
            <PropertyStore name="ITIM PowerTools">
                <Parser>
                    <Schema name="Input">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                    <Schema name="Output">
                        <InheritFrom>[parent]</InheritFrom>
                    </Schema>
                </Parser>
                <RawConnector>
                    <InheritFrom>system:/Connectors/ibmdi.Properties</InheritFrom>
                    <parameter name="collection">@SUBSTITUTE{config.$directory}/ITDI PowerTools.properties</parameter>
                    <parameter name="collectionType">Default</parameter>
                </RawConnector>
                <Key>key</Key>
                <Value>value</Value>
                <ReadOnly>false</ReadOnly>
                <InitialLoad>true</InitialLoad>
                <CacheTimeout>0</CacheTimeout>
            </PropertyStore>
        </Stores>
    </Properties>
    <Folder name="Schedules"/>
    <Folder name="Sequences"/>
</MetamergeConfig>